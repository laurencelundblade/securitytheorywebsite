<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QCBOR: /Users/lgl/Code/QCBOR/dev/inc/qcbor/qcbor_main_encode.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">QCBOR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bfccd401955b95cf8c75461437045ac0.html">inc</a></li><li class="navelem"><a class="el" href="dir_6c17abd51158f5ea9edde975dd55b13d.html">qcbor</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">qcbor_main_encode.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="qcbor__common_8h_source.html">qcbor/qcbor_common.h</a>&quot;</code><br />
<code>#include &quot;qcbor/qcbor_private.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div>
<p><a href="qcbor__main__encode_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a51e682414dbc970650525b9f966fb278" id="r_a51e682414dbc970650525b9f966fb278"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51e682414dbc970650525b9f966fb278">QCBOR_HEAD_BUFFER_SIZE</a>&#160;&#160;&#160;(sizeof(uint64_t) + 2)</td></tr>
<tr class="separator:a51e682414dbc970650525b9f966fb278"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a11844421eac8fb31c92a3a20a458aef5" id="r_a11844421eac8fb31c92a3a20a458aef5"><td class="memItemLeft" align="right" valign="top">typedef struct _QCBOREncodeContext&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a></td></tr>
<tr class="separator:a11844421eac8fb31c92a3a20a458aef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a36476447752aceeb113120da33943033" id="r_a36476447752aceeb113120da33943033"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36476447752aceeb113120da33943033">QCBOREncodeConfig</a> { <br />
&#160;&#160;<a class="el" href="#a36476447752aceeb113120da33943033a79a05d999b1c8e270248b4efb62e3aed">QCBOR_ENCODE_CONFIG_SORT</a> = 0x01
, <a class="el" href="#a36476447752aceeb113120da33943033aa546da05b8955f821faebd04b91c6bc7">QCBOR_ENCODE_CONFIG_ALLOW_NAN_PAYLOAD</a> = 0x02
, <a class="el" href="#a36476447752aceeb113120da33943033aeeaf9026cac59fedb13482f4ad98c348">QCBOR_ENCODE_CONFIG_FLOAT_REDUCTION</a> = 0x04
, <a class="el" href="#a36476447752aceeb113120da33943033a1cb2ea0ff22dbb17ef80d0d3490596b9">QCBOR_ENCODE_CONFIG_DISALLOW_INDEFINITE_LENGTHS</a> = 0x08
, <br />
&#160;&#160;<a class="el" href="#a36476447752aceeb113120da33943033aa26ecedde0bba0abf6105978e51c9bdf">QCBOR_ENCODE_CONFIG_DISALLOW_NON_PREFERRED_NUMBERS</a> = 0x10
, <a class="el" href="#a36476447752aceeb113120da33943033a8e303e039a3f0bc5b4afa75ba8e4c41f">QCBOR_ENCODE_CONFIG_ONLY_DCBOR_SIMPLE</a> = 0x20
, <a class="el" href="#a36476447752aceeb113120da33943033afad2be4b712e2ff3028c510d607d5fe7">QCBOR_ENCODE_CONFIG_ONLY_PREFERRED_BIG_NUMBERS</a> = 0x40
, <a class="el" href="#a36476447752aceeb113120da33943033a0752552e851abbd4f054368870a136cb">QCBOR_ENCODE_CONFIG_PREFERRED</a>
, <br />
&#160;&#160;<a class="el" href="#a36476447752aceeb113120da33943033a9598484052f606d2a68b9922d53a6f91">QCBOR_ENCODE_CONFIG_CDE</a>
, <a class="el" href="#a36476447752aceeb113120da33943033a99cb97c6530529de6d16497c6d40c4ee">QCBOR_ENCODE_CONFIG_DCBOR</a>
<br />
 }</td></tr>
<tr class="separator:a36476447752aceeb113120da33943033"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab7f85546a84e1301d1a6af6890cb191e" id="r_ab7f85546a84e1301d1a6af6890cb191e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, <a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> Storage)</td></tr>
<tr class="separator:ab7f85546a84e1301d1a6af6890cb191e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b18afa0d48816db4cd2a5bd5eb7e23" id="r_aa2b18afa0d48816db4cd2a5bd5eb7e23"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2b18afa0d48816db4cd2a5bd5eb7e23">QCBOREncode_Config</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, enum <a class="el" href="#a36476447752aceeb113120da33943033">QCBOREncodeConfig</a> uConfig)</td></tr>
<tr class="memdesc:aa2b18afa0d48816db4cd2a5bd5eb7e23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the encoder.  <br /></td></tr>
<tr class="separator:aa2b18afa0d48816db4cd2a5bd5eb7e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929cd09d93295e183a5306707167db33" id="r_a929cd09d93295e183a5306707167db33"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a929cd09d93295e183a5306707167db33">QCBOREncode_ConfigReduced</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, enum <a class="el" href="#a36476447752aceeb113120da33943033">QCBOREncodeConfig</a> uConfig)</td></tr>
<tr class="memdesc:a929cd09d93295e183a5306707167db33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the encoder, reduced object code.  <br /></td></tr>
<tr class="separator:a929cd09d93295e183a5306707167db33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3fe0d53bc053327c18138d296ca4c2" id="r_a9f3fe0d53bc053327c18138d296ca4c2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f3fe0d53bc053327c18138d296ca4c2">QCBOREncode_AddText</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Text)</td></tr>
<tr class="memdesc:a9f3fe0d53bc053327c18138d296ca4c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a UTF-8 text string to the encoded output.  <br /></td></tr>
<tr class="separator:a9f3fe0d53bc053327c18138d296ca4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69822b2877eb710873fa6fb135216fad" id="r_a69822b2877eb710873fa6fb135216fad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69822b2877eb710873fa6fb135216fad">QCBOREncode_AddTextToMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Text)</td></tr>
<tr class="separator:a69822b2877eb710873fa6fb135216fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17815fa5cd1b4ffbc3a5f379d334fe5" id="r_ac17815fa5cd1b4ffbc3a5f379d334fe5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac17815fa5cd1b4ffbc3a5f379d334fe5">QCBOREncode_AddTextToMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Text)</td></tr>
<tr class="separator:ac17815fa5cd1b4ffbc3a5f379d334fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca97fa078fae2e0afb50b65590bdf72b" id="r_aca97fa078fae2e0afb50b65590bdf72b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca97fa078fae2e0afb50b65590bdf72b">QCBOREncode_AddSZString</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szString)</td></tr>
<tr class="memdesc:aca97fa078fae2e0afb50b65590bdf72b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a UTF-8 text string to the encoded output.  <br /></td></tr>
<tr class="separator:aca97fa078fae2e0afb50b65590bdf72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927b921c0564bb76b7371e213271dab5" id="r_a927b921c0564bb76b7371e213271dab5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a927b921c0564bb76b7371e213271dab5">QCBOREncode_AddSZStringToMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, const char *szString)</td></tr>
<tr class="separator:a927b921c0564bb76b7371e213271dab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829c59e2a6bd492b2214e6efa8519f7c" id="r_a829c59e2a6bd492b2214e6efa8519f7c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a829c59e2a6bd492b2214e6efa8519f7c">QCBOREncode_AddSZStringToMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel, const char *szString)</td></tr>
<tr class="separator:a829c59e2a6bd492b2214e6efa8519f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4dca590e5786084b788de7cac2a3cc5" id="r_ab4dca590e5786084b788de7cac2a3cc5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4dca590e5786084b788de7cac2a3cc5">QCBOREncode_AddBytes</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Bytes)</td></tr>
<tr class="memdesc:ab4dca590e5786084b788de7cac2a3cc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a byte string to the encoded output.  <br /></td></tr>
<tr class="separator:ab4dca590e5786084b788de7cac2a3cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada51b1098f8155fa9aaf1228005a1e6f" id="r_ada51b1098f8155fa9aaf1228005a1e6f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada51b1098f8155fa9aaf1228005a1e6f">QCBOREncode_AddBytesToMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Bytes)</td></tr>
<tr class="separator:ada51b1098f8155fa9aaf1228005a1e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4601f7a6299dc95f61e19be53463de9a" id="r_a4601f7a6299dc95f61e19be53463de9a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4601f7a6299dc95f61e19be53463de9a">QCBOREncode_AddBytesToMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Bytes)</td></tr>
<tr class="separator:a4601f7a6299dc95f61e19be53463de9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a69abba8fed8f91264ff720ea80014" id="r_ad3a69abba8fed8f91264ff720ea80014"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3a69abba8fed8f91264ff720ea80014">QCBOREncode_OpenBytes</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, <a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> *pPlace)</td></tr>
<tr class="memdesc:ad3a69abba8fed8f91264ff720ea80014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up to write a byte string value directly to encoded output.  <br /></td></tr>
<tr class="separator:ad3a69abba8fed8f91264ff720ea80014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5428b92d08769d65a99fcc0e747f7c37" id="r_a5428b92d08769d65a99fcc0e747f7c37"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5428b92d08769d65a99fcc0e747f7c37">QCBOREncode_OpenBytesInMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, <a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> *pPlace)</td></tr>
<tr class="separator:a5428b92d08769d65a99fcc0e747f7c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a04b80b69ce7698a944060950259663" id="r_a7a04b80b69ce7698a944060950259663"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a04b80b69ce7698a944060950259663">QCBOREncode_OpenBytesInMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel, <a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> *pPlace)</td></tr>
<tr class="separator:a7a04b80b69ce7698a944060950259663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ba18aaa6b598cfb08f85a6a7dd2a58" id="r_a67ba18aaa6b598cfb08f85a6a7dd2a58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67ba18aaa6b598cfb08f85a6a7dd2a58">QCBOREncode_CloseBytes</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, size_t uAmount)</td></tr>
<tr class="memdesc:a67ba18aaa6b598cfb08f85a6a7dd2a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close out a byte string written directly to encoded output.  <br /></td></tr>
<tr class="separator:a67ba18aaa6b598cfb08f85a6a7dd2a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525abace5fffcbd4d932a132dcd6888a" id="r_a525abace5fffcbd4d932a132dcd6888a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a525abace5fffcbd4d932a132dcd6888a">QCBOREncode_AddBool</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, bool b)</td></tr>
<tr class="memdesc:a525abace5fffcbd4d932a132dcd6888a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a standard Boolean.  <br /></td></tr>
<tr class="separator:a525abace5fffcbd4d932a132dcd6888a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40ba0ad1390c5fa879a10becf673f35" id="r_ab40ba0ad1390c5fa879a10becf673f35"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab40ba0ad1390c5fa879a10becf673f35">QCBOREncode_AddBoolToMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, bool b)</td></tr>
<tr class="separator:ab40ba0ad1390c5fa879a10becf673f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4d7731c561cd3fc491185cfda3fdfe" id="r_a2c4d7731c561cd3fc491185cfda3fdfe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c4d7731c561cd3fc491185cfda3fdfe">QCBOREncode_AddBoolToMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel, bool b)</td></tr>
<tr class="separator:a2c4d7731c561cd3fc491185cfda3fdfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff2f85e718779891653a471b7670cfd" id="r_aeff2f85e718779891653a471b7670cfd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeff2f85e718779891653a471b7670cfd">QCBOREncode_AddNULL</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:aeff2f85e718779891653a471b7670cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a NULL to the encoded output.  <br /></td></tr>
<tr class="separator:aeff2f85e718779891653a471b7670cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad716e4beb72e9198a7953a1ded574e91" id="r_ad716e4beb72e9198a7953a1ded574e91"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad716e4beb72e9198a7953a1ded574e91">QCBOREncode_AddNULLToMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:ad716e4beb72e9198a7953a1ded574e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80dc656c248e000f0bd9474419ad2984" id="r_a80dc656c248e000f0bd9474419ad2984"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80dc656c248e000f0bd9474419ad2984">QCBOREncode_AddNULLToMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel)</td></tr>
<tr class="separator:a80dc656c248e000f0bd9474419ad2984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985cbeda0da0d80a30cd1619d812ac01" id="r_a985cbeda0da0d80a30cd1619d812ac01"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a985cbeda0da0d80a30cd1619d812ac01">QCBOREncode_AddUndef</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a985cbeda0da0d80a30cd1619d812ac01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an "undef" to the encoded output.  <br /></td></tr>
<tr class="separator:a985cbeda0da0d80a30cd1619d812ac01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a458b4ee53b77dbaaeabf7722c8c06c38" id="r_a458b4ee53b77dbaaeabf7722c8c06c38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a458b4ee53b77dbaaeabf7722c8c06c38">QCBOREncode_AddUndefToMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:a458b4ee53b77dbaaeabf7722c8c06c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7f724a9a4d5dbf68be3dff27cc4882" id="r_aac7f724a9a4d5dbf68be3dff27cc4882"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac7f724a9a4d5dbf68be3dff27cc4882">QCBOREncode_AddUndefToMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel)</td></tr>
<tr class="separator:aac7f724a9a4d5dbf68be3dff27cc4882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743ae0e8032363b80796dc3ff9dabae8" id="r_a743ae0e8032363b80796dc3ff9dabae8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a743ae0e8032363b80796dc3ff9dabae8">QCBOREncode_AddSimple</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const uint8_t uNum)</td></tr>
<tr class="memdesc:a743ae0e8032363b80796dc3ff9dabae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple value.  <br /></td></tr>
<tr class="separator:a743ae0e8032363b80796dc3ff9dabae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae3a213f1c989ba52ea17941356adeb" id="r_a2ae3a213f1c989ba52ea17941356adeb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ae3a213f1c989ba52ea17941356adeb">QCBOREncode_AddSimpleToMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, const uint8_t uSimple)</td></tr>
<tr class="separator:a2ae3a213f1c989ba52ea17941356adeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af226598de18185b543817033b69c1256" id="r_af226598de18185b543817033b69c1256"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af226598de18185b543817033b69c1256">QCBOREncode_AddSimpleToMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const int64_t nLabel, const uint8_t uSimple)</td></tr>
<tr class="separator:af226598de18185b543817033b69c1256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21148334efda30e4f771b23b121204f1" id="r_a21148334efda30e4f771b23b121204f1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21148334efda30e4f771b23b121204f1">QCBOREncode_OpenArray</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a21148334efda30e4f771b23b121204f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the next items added are in an array.  <br /></td></tr>
<tr class="separator:a21148334efda30e4f771b23b121204f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdca1f00004ab9b8e72eb75ca791b58b" id="r_acdca1f00004ab9b8e72eb75ca791b58b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdca1f00004ab9b8e72eb75ca791b58b">QCBOREncode_OpenArrayInMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:acdca1f00004ab9b8e72eb75ca791b58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0e6e56daaf27c4e18d9449cf53bf69" id="r_a3c0e6e56daaf27c4e18d9449cf53bf69"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c0e6e56daaf27c4e18d9449cf53bf69">QCBOREncode_OpenArrayInMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel)</td></tr>
<tr class="separator:a3c0e6e56daaf27c4e18d9449cf53bf69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c24ab9ee7f6b953315f4b48ef14895e" id="r_a8c24ab9ee7f6b953315f4b48ef14895e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c24ab9ee7f6b953315f4b48ef14895e">QCBOREncode_CloseArray</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a8c24ab9ee7f6b953315f4b48ef14895e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an open array.  <br /></td></tr>
<tr class="separator:a8c24ab9ee7f6b953315f4b48ef14895e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea839bfa7b1375ed4f903de7bf3212f8" id="r_aea839bfa7b1375ed4f903de7bf3212f8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea839bfa7b1375ed4f903de7bf3212f8">QCBOREncode_OpenMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:aea839bfa7b1375ed4f903de7bf3212f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the next items added are in a map.  <br /></td></tr>
<tr class="separator:aea839bfa7b1375ed4f903de7bf3212f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1ed418b8f86c76a3547ef7e9907c57" id="r_a5d1ed418b8f86c76a3547ef7e9907c57"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d1ed418b8f86c76a3547ef7e9907c57">QCBOREncode_OpenMapInMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:a5d1ed418b8f86c76a3547ef7e9907c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed27f9fe4904d1cc72707101345bec7" id="r_a0ed27f9fe4904d1cc72707101345bec7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ed27f9fe4904d1cc72707101345bec7">QCBOREncode_OpenMapInMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel)</td></tr>
<tr class="separator:a0ed27f9fe4904d1cc72707101345bec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5cfef1320df2688e45dbb2ed075f40" id="r_a7d5cfef1320df2688e45dbb2ed075f40"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d5cfef1320df2688e45dbb2ed075f40">QCBOREncode_CloseMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a7d5cfef1320df2688e45dbb2ed075f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an open map.  <br /></td></tr>
<tr class="separator:a7d5cfef1320df2688e45dbb2ed075f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad21cba63076f9648500797e8bace96" id="r_a3ad21cba63076f9648500797e8bace96"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ad21cba63076f9648500797e8bace96">QCBOREncode_OpenArrayIndefiniteLength</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a3ad21cba63076f9648500797e8bace96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the next items added are in an indefinite length array.  <br /></td></tr>
<tr class="separator:a3ad21cba63076f9648500797e8bace96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690eab81d5cbf925150f6b08883bd916" id="r_a690eab81d5cbf925150f6b08883bd916"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a690eab81d5cbf925150f6b08883bd916">QCBOREncode_OpenArrayIndefiniteLengthInMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:a690eab81d5cbf925150f6b08883bd916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150d816bd45635cf2e2d6ce752864060" id="r_a150d816bd45635cf2e2d6ce752864060"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a150d816bd45635cf2e2d6ce752864060">QCBOREncode_OpenArrayIndefiniteLengthInMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel)</td></tr>
<tr class="separator:a150d816bd45635cf2e2d6ce752864060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5d6279954828b0c99dba6dce36d129" id="r_abe5d6279954828b0c99dba6dce36d129"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe5d6279954828b0c99dba6dce36d129">QCBOREncode_CloseArrayIndefiniteLength</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:abe5d6279954828b0c99dba6dce36d129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an open indefinite length array.  <br /></td></tr>
<tr class="separator:abe5d6279954828b0c99dba6dce36d129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2faaed04870040214467d9dbf5ba9f59" id="r_a2faaed04870040214467d9dbf5ba9f59"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2faaed04870040214467d9dbf5ba9f59">QCBOREncode_OpenMapIndefiniteLength</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a2faaed04870040214467d9dbf5ba9f59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the next items added are in an indefinite length map.  <br /></td></tr>
<tr class="separator:a2faaed04870040214467d9dbf5ba9f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c4058e86dd6f840d64c72448550ac2" id="r_aa9c4058e86dd6f840d64c72448550ac2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9c4058e86dd6f840d64c72448550ac2">QCBOREncode_OpenMapIndefiniteLengthInMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:aa9c4058e86dd6f840d64c72448550ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7401240676072485468358ed6cb93143" id="r_a7401240676072485468358ed6cb93143"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7401240676072485468358ed6cb93143">QCBOREncode_OpenMapIndefiniteLengthInMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel)</td></tr>
<tr class="separator:a7401240676072485468358ed6cb93143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd269a252fa67dc5300bdd7c80617cd" id="r_a7fd269a252fa67dc5300bdd7c80617cd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fd269a252fa67dc5300bdd7c80617cd">QCBOREncode_CloseMapIndefiniteLength</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a7fd269a252fa67dc5300bdd7c80617cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an open indefinite length map.  <br /></td></tr>
<tr class="separator:a7fd269a252fa67dc5300bdd7c80617cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5e36e1e62fcc889d8e8c697d5406b0" id="r_a6f5e36e1e62fcc889d8e8c697d5406b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f5e36e1e62fcc889d8e8c697d5406b0">QCBOREncode_CloseAndSortMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a6f5e36e1e62fcc889d8e8c697d5406b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close and sort an open map.  <br /></td></tr>
<tr class="separator:a6f5e36e1e62fcc889d8e8c697d5406b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5cd4b3f537907e7a129f21a6d0f4bd2" id="r_ac5cd4b3f537907e7a129f21a6d0f4bd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5cd4b3f537907e7a129f21a6d0f4bd2">QCBOREncode_CloseAndSortMapIndef</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="separator:ac5cd4b3f537907e7a129f21a6d0f4bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85139b377c9cf7ac5a3d3ff5a825abb1" id="r_a85139b377c9cf7ac5a3d3ff5a825abb1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85139b377c9cf7ac5a3d3ff5a825abb1">QCBOREncode_BstrWrap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a85139b377c9cf7ac5a3d3ff5a825abb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate start of encoded CBOR to be wrapped in a bstr.  <br /></td></tr>
<tr class="separator:a85139b377c9cf7ac5a3d3ff5a825abb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af501f5582945d21ce7a7af6302df6bb0" id="r_af501f5582945d21ce7a7af6302df6bb0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af501f5582945d21ce7a7af6302df6bb0">QCBOREncode_BstrWrapInMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:af501f5582945d21ce7a7af6302df6bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506730c02c912daae36582bd8cb59d8c" id="r_a506730c02c912daae36582bd8cb59d8c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a506730c02c912daae36582bd8cb59d8c">QCBOREncode_BstrWrapInMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel)</td></tr>
<tr class="separator:a506730c02c912daae36582bd8cb59d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8d3221498714c1b165740feaa57be2" id="r_aef8d3221498714c1b165740feaa57be2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef8d3221498714c1b165740feaa57be2">QCBOREncode_CloseBstrWrap2</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, bool bIncludeCBORHead, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> *pWrappedCBOR)</td></tr>
<tr class="memdesc:aef8d3221498714c1b165740feaa57be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a wrapping bstr.  <br /></td></tr>
<tr class="separator:aef8d3221498714c1b165740feaa57be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6985587a00a60907d846c2805fd910" id="r_a7c6985587a00a60907d846c2805fd910"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c6985587a00a60907d846c2805fd910">QCBOREncode_CloseBstrWrap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> *pWrappedCBOR)</td></tr>
<tr class="separator:a7c6985587a00a60907d846c2805fd910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae69f2d1297251621d1d25c02b91c5d" id="r_a5ae69f2d1297251621d1d25c02b91c5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ae69f2d1297251621d1d25c02b91c5d">QCBOREncode_CancelBstrWrap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a5ae69f2d1297251621d1d25c02b91c5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel byte string wrapping.  <br /></td></tr>
<tr class="separator:a5ae69f2d1297251621d1d25c02b91c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef36a1bee0195329681994be905cd8e" id="r_a4ef36a1bee0195329681994be905cd8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ef36a1bee0195329681994be905cd8e">QCBOREncode_AddEncoded</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Encoded)</td></tr>
<tr class="memdesc:a4ef36a1bee0195329681994be905cd8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add some already-encoded CBOR bytes.  <br /></td></tr>
<tr class="separator:a4ef36a1bee0195329681994be905cd8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0ebf94a61f803333e1b1de7bb85857" id="r_a5e0ebf94a61f803333e1b1de7bb85857"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e0ebf94a61f803333e1b1de7bb85857">QCBOREncode_AddEncodedToMapSZ</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Encoded)</td></tr>
<tr class="separator:a5e0ebf94a61f803333e1b1de7bb85857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265669be3c7d3326abcc040ce6f92acb" id="r_a265669be3c7d3326abcc040ce6f92acb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a265669be3c7d3326abcc040ce6f92acb">QCBOREncode_AddEncodedToMapN</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, int64_t nLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Encoded)</td></tr>
<tr class="separator:a265669be3c7d3326abcc040ce6f92acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0498cefe2cb8d1454340cc8f68cb75f" id="r_ac0498cefe2cb8d1454340cc8f68cb75f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42">QCBORError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f">QCBOREncode_Finish</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> *pEncodedCBOR)</td></tr>
<tr class="memdesc:ac0498cefe2cb8d1454340cc8f68cb75f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the encoded result.  <br /></td></tr>
<tr class="separator:ac0498cefe2cb8d1454340cc8f68cb75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012f50732fbd530eef67dee5111eedce" id="r_a012f50732fbd530eef67dee5111eedce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42">QCBORError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a012f50732fbd530eef67dee5111eedce">QCBOREncode_FinishGetSize</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, size_t *uEncodedLen)</td></tr>
<tr class="memdesc:a012f50732fbd530eef67dee5111eedce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the encoded CBOR and error status.  <br /></td></tr>
<tr class="separator:a012f50732fbd530eef67dee5111eedce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d81aa4ff93e7b84f9f9da625191ec8" id="r_ad5d81aa4ff93e7b84f9f9da625191ec8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5d81aa4ff93e7b84f9f9da625191ec8">QCBOREncode_IsBufferNULL</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:ad5d81aa4ff93e7b84f9f9da625191ec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate whether the output storage buffer is NULL.  <br /></td></tr>
<tr class="separator:ad5d81aa4ff93e7b84f9f9da625191ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd599f9ce16b9ded9d9f016b3596e901" id="r_abd599f9ce16b9ded9d9f016b3596e901"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd599f9ce16b9ded9d9f016b3596e901">QCBOREncode_RetrieveOutputStorage</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:abd599f9ce16b9ded9d9f016b3596e901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the storage buffer passed in to <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a>.  <br /></td></tr>
<tr class="separator:abd599f9ce16b9ded9d9f016b3596e901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebd2770f7806b2ee9f948266ca940b6" id="r_a5ebd2770f7806b2ee9f948266ca940b6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42">QCBORError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ebd2770f7806b2ee9f948266ca940b6">QCBOREncode_GetErrorState</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a5ebd2770f7806b2ee9f948266ca940b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the encoding error state.  <br /></td></tr>
<tr class="separator:a5ebd2770f7806b2ee9f948266ca940b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec57d2a28feff9351dc84521a3b9d67" id="r_a7ec57d2a28feff9351dc84521a3b9d67"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ec57d2a28feff9351dc84521a3b9d67">QCBOREncode_Tell</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx)</td></tr>
<tr class="memdesc:a7ec57d2a28feff9351dc84521a3b9d67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current end of encoded data.  <br /></td></tr>
<tr class="separator:a7ec57d2a28feff9351dc84521a3b9d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb00a4922cbf362c8a327a7a85b13ae" id="r_a7eb00a4922cbf362c8a327a7a85b13ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7eb00a4922cbf362c8a327a7a85b13ae">QCBOREncode_SubString</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const size_t uStart)</td></tr>
<tr class="memdesc:a7eb00a4922cbf362c8a327a7a85b13ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a substring of encoded CBOR for cryptographic hash.  <br /></td></tr>
<tr class="separator:a7eb00a4922cbf362c8a327a7a85b13ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27fadfc0ca6ccb04c6fa45ebf721880c" id="r_a27fadfc0ca6ccb04c6fa45ebf721880c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27fadfc0ca6ccb04c6fa45ebf721880c">QCBOREncode_EncodeHead</a> (<a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> Buffer, uint8_t uMajorType, uint8_t uMinLen, uint64_t uNumber)</td></tr>
<tr class="memdesc:a27fadfc0ca6ccb04c6fa45ebf721880c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the head of a CBOR data item.  <br /></td></tr>
<tr class="separator:a27fadfc0ca6ccb04c6fa45ebf721880c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefafee018da593a3a948d3b3bf8ebe05" id="r_aefafee018da593a3a948d3b3bf8ebe05"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aefafee018da593a3a948d3b3bf8ebe05">QCBOREncode_AddTextToMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Text)</td></tr>
<tr class="separator:aefafee018da593a3a948d3b3bf8ebe05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766464483dc74e22766ca74754571bfb" id="r_a766464483dc74e22766ca74754571bfb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a766464483dc74e22766ca74754571bfb">QCBOREncode_AddSZStringToMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, const char *szString)</td></tr>
<tr class="separator:a766464483dc74e22766ca74754571bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb29dc075df28e9d601b3ba02123691" id="r_a9eb29dc075df28e9d601b3ba02123691"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9eb29dc075df28e9d601b3ba02123691">QCBOREncode_AddBytesToMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Bytes)</td></tr>
<tr class="separator:a9eb29dc075df28e9d601b3ba02123691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798b5802c272e8b1831d975d2008463a" id="r_a798b5802c272e8b1831d975d2008463a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a798b5802c272e8b1831d975d2008463a">QCBOREncode_AddBoolToMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, bool b)</td></tr>
<tr class="separator:a798b5802c272e8b1831d975d2008463a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1795d6af067b3b80d43d00de7bf9b654" id="r_a1795d6af067b3b80d43d00de7bf9b654"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1795d6af067b3b80d43d00de7bf9b654">QCBOREncode_AddNULLToMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:a1795d6af067b3b80d43d00de7bf9b654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131607e4f07a2292513053a1493a2209" id="r_a131607e4f07a2292513053a1493a2209"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a131607e4f07a2292513053a1493a2209">QCBOREncode_AddUndefToMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:a131607e4f07a2292513053a1493a2209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ab109a1763f60cd6de4d882e2334e4" id="r_a76ab109a1763f60cd6de4d882e2334e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76ab109a1763f60cd6de4d882e2334e4">QCBOREncode_AddSimpleToMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, const uint8_t uSimple)</td></tr>
<tr class="separator:a76ab109a1763f60cd6de4d882e2334e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12d368b976b851ab15895ab1d7d47b1" id="r_ad12d368b976b851ab15895ab1d7d47b1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad12d368b976b851ab15895ab1d7d47b1">QCBOREncode_OpenArrayInMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:ad12d368b976b851ab15895ab1d7d47b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a101cf9e5a096bc8217f093f7835ea491" id="r_a101cf9e5a096bc8217f093f7835ea491"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a101cf9e5a096bc8217f093f7835ea491">QCBOREncode_OpenMapInMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:a101cf9e5a096bc8217f093f7835ea491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318809bba5f6cba2638c1652d88926a2" id="r_a318809bba5f6cba2638c1652d88926a2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a318809bba5f6cba2638c1652d88926a2">QCBOREncode_OpenArrayIndefiniteLengthInMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:a318809bba5f6cba2638c1652d88926a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd78c9da7ca98d14088f73eb82fb3cb6" id="r_abd78c9da7ca98d14088f73eb82fb3cb6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd78c9da7ca98d14088f73eb82fb3cb6">QCBOREncode_OpenMapIndefiniteLengthInMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:abd78c9da7ca98d14088f73eb82fb3cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a76e0c163816c07ad4ea7451523763e" id="r_a7a76e0c163816c07ad4ea7451523763e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a76e0c163816c07ad4ea7451523763e">QCBOREncode_BstrWrapInMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel)</td></tr>
<tr class="separator:a7a76e0c163816c07ad4ea7451523763e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873b562291a8f553685974ca23eb6134" id="r_a873b562291a8f553685974ca23eb6134"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a873b562291a8f553685974ca23eb6134">QCBOREncode_AddEncodedToMap</a> (<a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *pCtx, const char *szLabel, <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> Encoded)</td></tr>
<tr class="separator:a873b562291a8f553685974ca23eb6134"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="anchor" id="Encoding"></a> </p>
<h2><a class="anchor" id="autotoc_md2"></a>
Encoding</h2>
<p>A common encoding usage mode is to invoke the encoding twice. First with the output buffer as <a class="el" href="_useful_buf_8h.html#a7b4919809b569fd7fc5ead3fa926c9de">SizeCalculateUsefulBuf</a> to compute the length of the needed output buffer. The correct sized output buffer is allocated. The encoder is invoked a second time with the allocated output buffer.</p>
<p>The double invocation is not required if the maximum output buffer size can be predicted. This is usually possible for simple CBOR structures.</p>
<p>If a buffer too small to hold the encoded output is given, the error <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42aea5398e1a2b27fc437b99b9ab91aaafd">QCBOR_ERR_BUFFER_TOO_SMALL</a> will be returned. Data will never be written off the end of the output buffer no matter which functions here are called or what parameters are passed to them.</p>
<p>The encoding error handling is simple. The only possible errors are trying to encode structures that are too large or too complex. There are no internal malloc calls so there will be no failures for out of memory. The error state is tracked internally, so there is no need to check for errors when encoding. Only the return code from <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> need be checked as once an error happens, the encoder goes into an error state and calls to it to add more data will do nothing. An error check is not needed after every data item is added.</p>
<p>Encoding generally proceeds by calling <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a>, calling lots of <code>QCBOREncode_AddXxx()</code> functions and calling <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a>. There are many <code>QCBOREncode_AddXxx()</code> functions for various data types. The input buffers need only to be valid during the <code>QCBOREncode_AddXxx()</code> calls as the data is copied into the output buffer.</p>
<p>There are three <code>Add</code> functions for each data type. The first / main one for the type is for adding the data item to an array. The second one's name ends in <code>ToMap</code>, is used for adding data items to maps and takes a string argument that is its label in the map. The third one ends in <code>ToMapN</code>, is also used for adding data items to maps, and takes an integer argument that is its label in the map.</p>
<p>The simplest aggregate type is an array, which is a simple ordered set of items without labels the same as JSON arrays. Call <a class="el" href="#a21148334efda30e4f771b23b121204f1" title="Indicates that the next items added are in an array.">QCBOREncode_OpenArray()</a> to open a new array, then various <code>QCBOREncode_AddXxx()</code> functions to put items in the array and then <a class="el" href="#a8c24ab9ee7f6b953315f4b48ef14895e" title="Close an open array.">QCBOREncode_CloseArray()</a>. Nesting to the limit <a class="el" href="qcbor__common_8h.html#adecdeb0c5bc02f8892a2c89cdae3e25e">QCBOR_MAX_ARRAY_NESTING</a> is allowed. All opens must be matched by closes or an encoding error will be returned.</p>
<p>The other aggregate type is a map which does use labels. The <code>Add</code> functions that end in <code>ToMap</code> and <code>ToMapN</code> are convenient ways to add labeled data items to a map. You can also call any type of <code>Add</code> function once to add a label of any type and then call any type of <code>Add</code> again to add its value.</p>
<p>Note that when you nest arrays or maps in a map, the nested array or map has a label.</p>
<p>Many CBOR-based protocols start with an array or map. This makes them self-delimiting. No external length or end marker is needed to know the end. It is also possible to not start this way, in which case this it is usually called a CBOR sequence which is described in <a href="https://www.rfc-editor.org/rfc/rfc8742.html">RFC 8742</a>. This encoder supports either just by whether the first item added is an array, map or other.</p>
<p>If QCBOR is compiled with QCBOR_DISABLE_ENCODE_USAGE_GUARDS defined, the errors QCBOR_ERR_CLOSE_MISMATCH, QCBOR_ERR_ARRAY_TOO_LONG, QCBOR_ERR_TOO_MANY_CLOSES, QCBOR_ERR_ARRAY_OR_MAP_STILL_OPEN, and QCBOR_ERR_ENCODE_UNSUPPORTED will never be returned. It is up to the caller to make sure that opened maps, arrays and byte-string wrapping is closed correctly and that QCBOREncode_AddType7() is called correctly. With this defined, it is easier to make a mistake when authoring the encoding of a protocol that will output not well formed CBOR, but as long as the calling code is correct, it is safe to disable these checks. Bounds checking that prevents security issues in the code is still enforced. This define reduces the size of encoding object code by about 150 bytes. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a51e682414dbc970650525b9f966fb278" name="a51e682414dbc970650525b9f966fb278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51e682414dbc970650525b9f966fb278">&#9670;&#160;</a></span>QCBOR_HEAD_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QCBOR_HEAD_BUFFER_SIZE&#160;&#160;&#160;(sizeof(uint64_t) + 2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The size of the buffer to be passed to <a class="el" href="#a27fadfc0ca6ccb04c6fa45ebf721880c" title="Encode the head of a CBOR data item.">QCBOREncode_EncodeHead()</a>. It is one byte larger than sizeof(uint64_t) + 1, the actual maximum size of the head of a CBOR data item because <a class="el" href="#a27fadfc0ca6ccb04c6fa45ebf721880c" title="Encode the head of a CBOR data item.">QCBOREncode_EncodeHead()</a> needs one extra byte to work. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a11844421eac8fb31c92a3a20a458aef5" name="a11844421eac8fb31c92a3a20a458aef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11844421eac8fb31c92a3a20a458aef5">&#9670;&#160;</a></span>QCBOREncodeContext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _QCBOREncodeContext <a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>QCBOREncodeContext is the data type that holds context for all the encoding functions. It is less than 200 bytes, so it can go on the stack. The contents are opaque, and the caller should not access internal members. A context may be re used serially as long as it is re initialized. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a36476447752aceeb113120da33943033" name="a36476447752aceeb113120da33943033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36476447752aceeb113120da33943033">&#9670;&#160;</a></span>QCBOREncodeConfig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a36476447752aceeb113120da33943033">QCBOREncodeConfig</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enum is the bit flags for configuring the encoder for things like the sorting of maps. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033a79a05d999b1c8e270248b4efb62e3aed" name="a36476447752aceeb113120da33943033a79a05d999b1c8e270248b4efb62e3aed"></a>QCBOR_ENCODE_CONFIG_SORT&#160;</td><td class="fielddoc"><p>This causes maps to be sorted per RFC 8949 section 4.2.1 . <a class="el" href="#a7d5cfef1320df2688e45dbb2ed075f40" title="Close an open map.">QCBOREncode_CloseMap()</a> becomes equivalent to <a class="el" href="#a6f5e36e1e62fcc889d8e8c697d5406b0" title="Close and sort an open map.">QCBOREncode_CloseAndSortMap()</a>. This causes map closing to run much slower, but this is probably only of consequence in very constrained environments sorting large maps.</p>
<p>Note that map sorting causese about 30% more code from the QCBOR library to be linked. Any call to <a class="el" href="#aa2b18afa0d48816db4cd2a5bd5eb7e23" title="Configure the encoder.">QCBOREncode_Config()</a>, even if sorting is not selected, will cause the sorting code to be linked. See <a class="el" href="#a929cd09d93295e183a5306707167db33" title="Configure the encoder, reduced object code.">QCBOREncode_ConfigReduced()</a> to avoid this. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033aa546da05b8955f821faebd04b91c6bc7" name="a36476447752aceeb113120da33943033aa546da05b8955f821faebd04b91c6bc7"></a>QCBOR_ENCODE_CONFIG_ALLOW_NAN_PAYLOAD&#160;</td><td class="fielddoc"><p>By default QCBOR will error with <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a9692655f96a29eacbdc5d9365d8d9211">QCBOR_ERR_NOT_ALLOWED</a> when trying to encode a double or float NaN that has a payload because NaN payloads are not very interoperable. With this set, NaN payloads can be encoded. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033aeeaf9026cac59fedb13482f4ad98c348" name="a36476447752aceeb113120da33943033aeeaf9026cac59fedb13482f4ad98c348"></a>QCBOR_ENCODE_CONFIG_FLOAT_REDUCTION&#160;</td><td class="fielddoc"><p>This unifies the integer and floating-point number space such that there is only one way to encode any particular value. For example, 0 is always encoded as a type 0 positive integer, never as a 0.0 as a float or double. This unification never loses precision. For example, 1.000001 would not be reduced to the integer 1.</p>
<p>This specification for this reduction comes from dCBOR. It is part of a deterministic encoding that that covers integer and float numbers. This reduction doesn't cover other number representations like big numbers and big floats.</p>
<p>See <a class="el" href="#a36476447752aceeb113120da33943033a99cb97c6530529de6d16497c6d40c4ee">QCBOR_ENCODE_CONFIG_DCBOR</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033a1cb2ea0ff22dbb17ef80d0d3490596b9" name="a36476447752aceeb113120da33943033a1cb2ea0ff22dbb17ef80d0d3490596b9"></a>QCBOR_ENCODE_CONFIG_DISALLOW_INDEFINITE_LENGTHS&#160;</td><td class="fielddoc"><p>With this set, attempts to encode indefinite length text and byte strings, arrays and maps will error out. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033aa26ecedde0bba0abf6105978e51c9bdf" name="a36476447752aceeb113120da33943033aa26ecedde0bba0abf6105978e51c9bdf"></a>QCBOR_ENCODE_CONFIG_DISALLOW_NON_PREFERRED_NUMBERS&#160;</td><td class="fielddoc"><p>This disallows non-preferred floating number encoding, <a class="el" href="qcbor__number__encode_8h.html#a8a4981a3fc8f99172df20e3f92c51e4f" title="Add a single-precision floating-point number without preferred encoding.">QCBOREncode_AddFloatNoPreferred()</a> and <a class="el" href="qcbor__number__encode_8h.html#a104380a5dfbf46ae12fff25be9043326" title="Add a double-precision floating-point number without preferred encoding.">QCBOREncode_AddDoubleNoPreferred()</a>. It is not possible to disable preferred serialization of type 0 and type 1 integers in QCBOR. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033a8e303e039a3f0bc5b4afa75ba8e4c41f" name="a36476447752aceeb113120da33943033a8e303e039a3f0bc5b4afa75ba8e4c41f"></a>QCBOR_ENCODE_CONFIG_ONLY_DCBOR_SIMPLE&#160;</td><td class="fielddoc"><p>This enforces a simple rule in dCBOR allows only the simple values true, false and null. With this set, any other simple value will error out. See <a class="el" href="#a36476447752aceeb113120da33943033a99cb97c6530529de6d16497c6d40c4ee">QCBOR_ENCODE_CONFIG_DCBOR</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033afad2be4b712e2ff3028c510d607d5fe7" name="a36476447752aceeb113120da33943033afad2be4b712e2ff3028c510d607d5fe7"></a>QCBOR_ENCODE_CONFIG_ONLY_PREFERRED_BIG_NUMBERS&#160;</td><td class="fielddoc"><p>Preferred serialization requires number reduction of big numbers to type 0 and 1 integers. With this set an error will be set when trying to encode non-preferred big numbers with <a class="el" href="qcbor__number__encode_8h.html#ac75b50fb0b98919652e1304b4339c4bb" title="Add a big number to encoded output without preferred serialization.">QCBOREncode_AddTBigNumberNoPreferred()</a> or <a class="el" href="qcbor__number__encode_8h.html#ad1d71f5ec9daa192e4fb4c908744b79c" title="Add a big number to encoded output with no processing.">QCBOREncode_AddTBigNumberRaw()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033a0752552e851abbd4f054368870a136cb" name="a36476447752aceeb113120da33943033a0752552e851abbd4f054368870a136cb"></a>QCBOR_ENCODE_CONFIG_PREFERRED&#160;</td><td class="fielddoc"><p>Setting this mode will cause QCBOR to return an error if an attempt is made to use one of the methods that produce non-preferred serialization. It doesn't change anything else as QCBOR produces preferred serialization by default.</p>
<p>The non-preferred methods are: <a class="el" href="qcbor__number__encode_8h.html#a8a4981a3fc8f99172df20e3f92c51e4f" title="Add a single-precision floating-point number without preferred encoding.">QCBOREncode_AddFloatNoPreferred()</a>, <a class="el" href="qcbor__number__encode_8h.html#a104380a5dfbf46ae12fff25be9043326" title="Add a double-precision floating-point number without preferred encoding.">QCBOREncode_AddDoubleNoPreferred()</a>, <a class="el" href="#a3ad21cba63076f9648500797e8bace96" title="Indicates that the next items added are in an indefinite length array.">QCBOREncode_OpenArrayIndefiniteLength()</a>, <a class="el" href="#abe5d6279954828b0c99dba6dce36d129" title="Close an open indefinite length array.">QCBOREncode_CloseArrayIndefiniteLength()</a>, <a class="el" href="#a2faaed04870040214467d9dbf5ba9f59" title="Indicates that the next items added are in an indefinite length map.">QCBOREncode_OpenMapIndefiniteLength()</a>, <a class="el" href="#a7fd269a252fa67dc5300bdd7c80617cd" title="Close an open indefinite length map.">QCBOREncode_CloseMapIndefiniteLength()</a>, plus those derived from the above listed.</p>
<p>This mode is just a user guard to prevent accidentally calling something that produces non-preferred serialization. It doesn't do anything but causes errors to occur on attempts to call the above listed functions. This does nothing if the library is compiled QCBOR_DISABLE_ENCODE_USAGE_GUARDS.</p>
<p>See <a class="el" href="md__2_users_2lgl_2_code_2_q_c_b_o_r_2dev_2doc_2_serialization.html#Serialization">Serialization</a>. It is usually not necessary to set this mode, but there is usually no disadvantage to setting it. Preferred serialization is defined in RFC 8949, section 4.1. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033a9598484052f606d2a68b9922d53a6f91" name="a36476447752aceeb113120da33943033a9598484052f606d2a68b9922d53a6f91"></a>QCBOR_ENCODE_CONFIG_CDE&#160;</td><td class="fielddoc"><p>This causes QCBOR to produce CBOR Deterministic Encoding (CDE). With CDE, two distant unrelated CBOR encoders will produce exactly the same encoded CBOR for a given input.</p>
<p>In addition to doing everything <a class="el" href="#a36476447752aceeb113120da33943033a0752552e851abbd4f054368870a136cb">QCBOR_ENCODE_CONFIG_PREFERRED</a> does (including exclusion of indefinite lengths), this causes maps to be sorted. The map is sorted automatically when <a class="el" href="#a7d5cfef1320df2688e45dbb2ed075f40" title="Close an open map.">QCBOREncode_CloseMap()</a> is called. See <a class="el" href="#a36476447752aceeb113120da33943033a79a05d999b1c8e270248b4efb62e3aed">QCBOR_ENCODE_CONFIG_SORT</a>.</p>
<p>See <a class="el" href="md__2_users_2lgl_2_code_2_q_c_b_o_r_2dev_2doc_2_serialization.html#Serialization">Serialization</a>. It is usually not necessary to set this mode as determinism is very rarely needed. However it will usually work with most protocols. CDE is defined in draft-ietf-cbor-cde and/or RFC 8949 section 4.2. </p>
</td></tr>
<tr><td class="fieldname"><a id="a36476447752aceeb113120da33943033a99cb97c6530529de6d16497c6d40c4ee" name="a36476447752aceeb113120da33943033a99cb97c6530529de6d16497c6d40c4ee"></a>QCBOR_ENCODE_CONFIG_DCBOR&#160;</td><td class="fielddoc"><p>See draft-mcnally-deterministic-cbor.</p>
<p>This is a superset of CDE. This function does everything QCBOREncode_SerializationCDE() does. Also it is a super set of preferred serialization and does everything QCBOREncode_SerializationPreferred() does.</p>
<p>The main feature of dCBOR is that there is only one way to serialize a particular numeric value. This changes the behavior of functions that add floating-point numbers. If the floating-point number is whole, it will be encoded as an integer, not a floating-point number. 0.000 will be encoded as 0x00. Precision is never lost in this conversion.</p>
<p>dCBOR also disallows NaN payloads. QCBOR will allow NaN payloads if you pass a NaN to one of the floating-point encoding functions. This mode forces all NaNs to the half-precision queit NaN.</p>
<p>TODO: confirm and test NaN payload behavior dCBOR reduces all NaN payloads to half-precision quiet NaN</p>
<p>dCBOR disallows use of any simple type other than true, false and NULL. In particular it disallows use of "undef" produced by <a class="el" href="#a985cbeda0da0d80a30cd1619d812ac01" title="Add an &quot;undef&quot; to the encoded output.">QCBOREncode_AddUndef()</a>.</p>
<p>See <a class="el" href="md__2_users_2lgl_2_code_2_q_c_b_o_r_2dev_2doc_2_serialization.html#Serialization">Serialization</a>. Set this mode only if the protocol you are implementing requires dCBOR. This mode is usually not compatible with protocols that don't use dCBOR. dCBOR is defined in draft-mcnally-deterministic-cbor. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a525abace5fffcbd4d932a132dcd6888a" name="a525abace5fffcbd4d932a132dcd6888a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525abace5fffcbd4d932a132dcd6888a">&#9670;&#160;</a></span>QCBOREncode_AddBool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddBool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a standard Boolean. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the Boolean to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>true or false from <code>&lt;stdbool.h&gt;</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>Adds a Boolean value as CBOR major type 7.</p>
<p>Error handling is the same as QCBOREncode_AddInt64(). </p>

</div>
</div>
<a id="a798b5802c272e8b1831d975d2008463a" name="a798b5802c272e8b1831d975d2008463a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798b5802c272e8b1831d975d2008463a">&#9670;&#160;</a></span>QCBOREncode_AddBoolToMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddBoolToMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated</a></b></dt><dd>Use <a class="el" href="#ab40ba0ad1390c5fa879a10becf673f35">QCBOREncode_AddBoolToMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a2c4d7731c561cd3fc491185cfda3fdfe" name="a2c4d7731c561cd3fc491185cfda3fdfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c4d7731c561cd3fc491185cfda3fdfe">&#9670;&#160;</a></span>QCBOREncode_AddBoolToMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddBoolToMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a798b5802c272e8b1831d975d2008463a">QCBOREncode_AddBoolToMap()</a>. </p>

</div>
</div>
<a id="ab40ba0ad1390c5fa879a10becf673f35" name="ab40ba0ad1390c5fa879a10becf673f35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab40ba0ad1390c5fa879a10becf673f35">&#9670;&#160;</a></span>QCBOREncode_AddBoolToMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddBoolToMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a798b5802c272e8b1831d975d2008463a">QCBOREncode_AddBoolToMap()</a>. </p>

</div>
</div>
<a id="ab4dca590e5786084b788de7cac2a3cc5" name="ab4dca590e5786084b788de7cac2a3cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4dca590e5786084b788de7cac2a3cc5">&#9670;&#160;</a></span>QCBOREncode_AddBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a byte string to the encoded output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the bytes to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Bytes</td><td>Pointer and length of the input data.</td></tr>
  </table>
  </dd>
</dl>
<p>Simply adds the bytes to the encoded output as CBOR major type 2.</p>
<p>If called with <code>Bytes.len</code> equal to 0, an empty string will be added. When <code>Bytes.len</code> is 0, <code>Bytes.ptr</code> may be <code>NULL</code>.</p>
<p>Error handling is the same as QCBOREncode_AddInt64(). </p>

</div>
</div>
<a id="a9eb29dc075df28e9d601b3ba02123691" name="a9eb29dc075df28e9d601b3ba02123691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb29dc075df28e9d601b3ba02123691">&#9670;&#160;</a></span>QCBOREncode_AddBytesToMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddBytesToMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated</a></b></dt><dd>Use <a class="el" href="#ada51b1098f8155fa9aaf1228005a1e6f">QCBOREncode_AddBytesToMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a4601f7a6299dc95f61e19be53463de9a" name="a4601f7a6299dc95f61e19be53463de9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4601f7a6299dc95f61e19be53463de9a">&#9670;&#160;</a></span>QCBOREncode_AddBytesToMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddBytesToMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a9eb29dc075df28e9d601b3ba02123691">QCBOREncode_AddBytesToMap()</a>. </p>

</div>
</div>
<a id="ada51b1098f8155fa9aaf1228005a1e6f" name="ada51b1098f8155fa9aaf1228005a1e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada51b1098f8155fa9aaf1228005a1e6f">&#9670;&#160;</a></span>QCBOREncode_AddBytesToMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddBytesToMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a9eb29dc075df28e9d601b3ba02123691">QCBOREncode_AddBytesToMap()</a>. </p>

</div>
</div>
<a id="a4ef36a1bee0195329681994be905cd8e" name="a4ef36a1bee0195329681994be905cd8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef36a1bee0195329681994be905cd8e">&#9670;&#160;</a></span>QCBOREncode_AddEncoded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QCBOREncode_AddEncoded </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Encoded</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add some already-encoded CBOR bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the already-encode CBOR to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Encoded</td><td>The already-encoded CBOR to add to the context.</td></tr>
  </table>
  </dd>
</dl>
<p>The encoded CBOR being added must be fully conforming CBOR. It must be complete with no arrays or maps that are incomplete. it is OK for the raw CBOR added here to have indefinite lengths.</p>
<p>The raw CBOR added here is not checked in anyway. If it is not conforming or has open arrays or such, the final encoded CBOR will probably be wrong or not what was intended.</p>
<p>If the encoded CBOR being added here contains multiple items, they must be enclosed in a map or array. At the top level the raw CBOR must be a single data item. </p>

</div>
</div>
<a id="a873b562291a8f553685974ca23eb6134" name="a873b562291a8f553685974ca23eb6134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873b562291a8f553685974ca23eb6134">&#9670;&#160;</a></span>QCBOREncode_AddEncodedToMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddEncodedToMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Encoded</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000014">Deprecated</a></b></dt><dd>Use <a class="el" href="#a5e0ebf94a61f803333e1b1de7bb85857">QCBOREncode_AddEncodedToMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a265669be3c7d3326abcc040ce6f92acb" name="a265669be3c7d3326abcc040ce6f92acb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a265669be3c7d3326abcc040ce6f92acb">&#9670;&#160;</a></span>QCBOREncode_AddEncodedToMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddEncodedToMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Encoded</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a4ef36a1bee0195329681994be905cd8e" title="Add some already-encoded CBOR bytes.">QCBOREncode_AddEncoded()</a>. </p>

</div>
</div>
<a id="a5e0ebf94a61f803333e1b1de7bb85857" name="a5e0ebf94a61f803333e1b1de7bb85857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0ebf94a61f803333e1b1de7bb85857">&#9670;&#160;</a></span>QCBOREncode_AddEncodedToMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddEncodedToMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Encoded</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a4ef36a1bee0195329681994be905cd8e" title="Add some already-encoded CBOR bytes.">QCBOREncode_AddEncoded()</a>. </p>

</div>
</div>
<a id="aeff2f85e718779891653a471b7670cfd" name="aeff2f85e718779891653a471b7670cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff2f85e718779891653a471b7670cfd">&#9670;&#160;</a></span>QCBOREncode_AddNULL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddNULL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a NULL to the encoded output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the NULL to.</td></tr>
  </table>
  </dd>
</dl>
<p>Adds the NULL value as CBOR major type 7.</p>
<p>This NULL doesn't have any special meaning in CBOR such as a terminating value for a string or an empty value.</p>
<p>Error handling is the same as QCBOREncode_AddInt64(). </p>

</div>
</div>
<a id="a1795d6af067b3b80d43d00de7bf9b654" name="a1795d6af067b3b80d43d00de7bf9b654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1795d6af067b3b80d43d00de7bf9b654">&#9670;&#160;</a></span>QCBOREncode_AddNULLToMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddNULLToMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated</a></b></dt><dd>Use <a class="el" href="#ad716e4beb72e9198a7953a1ded574e91">QCBOREncode_AddNULLToMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a80dc656c248e000f0bd9474419ad2984" name="a80dc656c248e000f0bd9474419ad2984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80dc656c248e000f0bd9474419ad2984">&#9670;&#160;</a></span>QCBOREncode_AddNULLToMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddNULLToMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#aeff2f85e718779891653a471b7670cfd" title="Add a NULL to the encoded output.">QCBOREncode_AddNULL()</a>. </p>

</div>
</div>
<a id="ad716e4beb72e9198a7953a1ded574e91" name="ad716e4beb72e9198a7953a1ded574e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad716e4beb72e9198a7953a1ded574e91">&#9670;&#160;</a></span>QCBOREncode_AddNULLToMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddNULLToMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#aeff2f85e718779891653a471b7670cfd" title="Add a NULL to the encoded output.">QCBOREncode_AddNULL()</a>. </p>

</div>
</div>
<a id="a743ae0e8032363b80796dc3ff9dabae8" name="a743ae0e8032363b80796dc3ff9dabae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a743ae0e8032363b80796dc3ff9dabae8">&#9670;&#160;</a></span>QCBOREncode_AddSimple()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddSimple </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>uNum</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encode context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uNum</td><td>The simple value.</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="#a525abace5fffcbd4d932a132dcd6888a" title="Add a standard Boolean.">QCBOREncode_AddBool()</a>, <a class="el" href="#a985cbeda0da0d80a30cd1619d812ac01" title="Add an &quot;undef&quot; to the encoded output.">QCBOREncode_AddUndef()</a> and <a class="el" href="#aeff2f85e718779891653a471b7670cfd" title="Add a NULL to the encoded output.">QCBOREncode_AddNULL()</a> are preferred to this for the simple values defined in RFC 8949, but this can be used for them too.</p>
<p>The main purpose of this is to add simple values beyond those in defined RFC 8949. Note that simple values must be registered with IANA. Those in the range of 0 to 19 must be standardized. Those in the range of 32 to 255 do not require a standard, but must be publically specified. There is no range of values for proprietary use. See <a href="https://www.iana.org/assignments/cbor-simple-values/cbor-simple-values.xhtml">https://www.iana.org/assignments/cbor-simple-values/cbor-simple-values.xhtml</a> </p>

</div>
</div>
<a id="a76ab109a1763f60cd6de4d882e2334e4" name="a76ab109a1763f60cd6de4d882e2334e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ab109a1763f60cd6de4d882e2334e4">&#9670;&#160;</a></span>QCBOREncode_AddSimpleToMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddSimpleToMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>uSimple</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000008">Deprecated</a></b></dt><dd>Use <a class="el" href="#a2ae3a213f1c989ba52ea17941356adeb">QCBOREncode_AddSimpleToMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="af226598de18185b543817033b69c1256" name="af226598de18185b543817033b69c1256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af226598de18185b543817033b69c1256">&#9670;&#160;</a></span>QCBOREncode_AddSimpleToMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddSimpleToMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>uSimple</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a743ae0e8032363b80796dc3ff9dabae8" title="Add a simple value.">QCBOREncode_AddSimple()</a>. </p>

</div>
</div>
<a id="a2ae3a213f1c989ba52ea17941356adeb" name="a2ae3a213f1c989ba52ea17941356adeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae3a213f1c989ba52ea17941356adeb">&#9670;&#160;</a></span>QCBOREncode_AddSimpleToMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddSimpleToMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>uSimple</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a743ae0e8032363b80796dc3ff9dabae8" title="Add a simple value.">QCBOREncode_AddSimple()</a>. </p>

</div>
</div>
<a id="aca97fa078fae2e0afb50b65590bdf72b" name="aca97fa078fae2e0afb50b65590bdf72b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca97fa078fae2e0afb50b65590bdf72b">&#9670;&#160;</a></span>QCBOREncode_AddSZString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddSZString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szString</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a UTF-8 text string to the encoded output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the text to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">szString</td><td>Null-terminated text to add.</td></tr>
  </table>
  </dd>
</dl>
<p>This works the same as <a class="el" href="#a9f3fe0d53bc053327c18138d296ca4c2" title="Add a UTF-8 text string to the encoded output.">QCBOREncode_AddText()</a>. </p>

</div>
</div>
<a id="a766464483dc74e22766ca74754571bfb" name="a766464483dc74e22766ca74754571bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766464483dc74e22766ca74754571bfb">&#9670;&#160;</a></span>QCBOREncode_AddSZStringToMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddSZStringToMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szString</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated</a></b></dt><dd>Use <a class="el" href="#a927b921c0564bb76b7371e213271dab5">QCBOREncode_AddSZStringToMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a829c59e2a6bd492b2214e6efa8519f7c" name="a829c59e2a6bd492b2214e6efa8519f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a829c59e2a6bd492b2214e6efa8519f7c">&#9670;&#160;</a></span>QCBOREncode_AddSZStringToMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddSZStringToMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szString</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a766464483dc74e22766ca74754571bfb">QCBOREncode_AddSZStringToMap()</a>. </p>

</div>
</div>
<a id="a927b921c0564bb76b7371e213271dab5" name="a927b921c0564bb76b7371e213271dab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a927b921c0564bb76b7371e213271dab5">&#9670;&#160;</a></span>QCBOREncode_AddSZStringToMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddSZStringToMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szString</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a766464483dc74e22766ca74754571bfb">QCBOREncode_AddSZStringToMap()</a>. </p>

</div>
</div>
<a id="a9f3fe0d53bc053327c18138d296ca4c2" name="a9f3fe0d53bc053327c18138d296ca4c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f3fe0d53bc053327c18138d296ca4c2">&#9670;&#160;</a></span>QCBOREncode_AddText()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddText </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Text</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a UTF-8 text string to the encoded output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the text to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Text</td><td>Pointer and length of text to add.</td></tr>
  </table>
  </dd>
</dl>
<p>The text passed in must be unencoded UTF-8 according to <a href="https://www.rfc-editor.org/rfc/rfc3629.html">RFC 3629</a>. There is no <code>NULL</code> termination. The text is added as CBOR major type 3.</p>
<p>If called with <code>nBytesLen</code> equal to 0, an empty string will be added. When <code>nBytesLen</code> is 0, <code>pBytes</code> may be <code>NULL</code>.</p>
<p>Note that the restriction of the buffer length to a <code>uint32_t</code> is entirely intentional as this encoder is not capable of encoding lengths greater. This limit to 4GB for a text string should not be a problem.</p>
<p>Text lines in Internet protocols (on the wire) are delimited by either a CRLF or just an LF. Officially many protocols specify CRLF, but implementations often work with either. CBOR type 3 text can be either line ending, even a mixture of both.</p>
<p>Operating systems usually have a line end convention. Windows uses CRLF. Linux and MacOS use LF. Some applications on a given OS may work with either and some may not.</p>
<p>The majority of use cases and CBOR protocols using type 3 text will work with either line ending. However, some use cases or protocols may not work with either in which case translation to and/or from the local line end convention, typically that of the OS, is necessary.</p>
<p>QCBOR does no line ending translation for type 3 text when encoding and decoding.</p>
<p>Error handling is the same as QCBOREncode_AddInt64(). </p>

</div>
</div>
<a id="aefafee018da593a3a948d3b3bf8ebe05" name="aefafee018da593a3a948d3b3bf8ebe05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefafee018da593a3a948d3b3bf8ebe05">&#9670;&#160;</a></span>QCBOREncode_AddTextToMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddTextToMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Text</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated</a></b></dt><dd>Use <a class="el" href="#a69822b2877eb710873fa6fb135216fad">QCBOREncode_AddTextToMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="ac17815fa5cd1b4ffbc3a5f379d334fe5" name="ac17815fa5cd1b4ffbc3a5f379d334fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17815fa5cd1b4ffbc3a5f379d334fe5">&#9670;&#160;</a></span>QCBOREncode_AddTextToMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddTextToMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Text</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a9f3fe0d53bc053327c18138d296ca4c2" title="Add a UTF-8 text string to the encoded output.">QCBOREncode_AddText()</a>. </p>

</div>
</div>
<a id="a69822b2877eb710873fa6fb135216fad" name="a69822b2877eb710873fa6fb135216fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69822b2877eb710873fa6fb135216fad">&#9670;&#160;</a></span>QCBOREncode_AddTextToMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddTextToMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a></td>          <td class="paramname"><span class="paramname"><em>Text</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a9f3fe0d53bc053327c18138d296ca4c2" title="Add a UTF-8 text string to the encoded output.">QCBOREncode_AddText()</a>. </p>

</div>
</div>
<a id="a985cbeda0da0d80a30cd1619d812ac01" name="a985cbeda0da0d80a30cd1619d812ac01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a985cbeda0da0d80a30cd1619d812ac01">&#9670;&#160;</a></span>QCBOREncode_AddUndef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddUndef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an "undef" to the encoded output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the "undef" to.</td></tr>
  </table>
  </dd>
</dl>
<p>Adds the undef value as CBOR major type 7.</p>
<p>Note that this value will not translate to JSON.</p>
<p>"undef" doesn't have any special meaning in CBOR such as a terminating value for a string or an empty value.</p>
<p>Error handling is the same as QCBOREncode_AddInt64(). </p>

</div>
</div>
<a id="a131607e4f07a2292513053a1493a2209" name="a131607e4f07a2292513053a1493a2209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a131607e4f07a2292513053a1493a2209">&#9670;&#160;</a></span>QCBOREncode_AddUndefToMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddUndefToMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated</a></b></dt><dd>Use <a class="el" href="#a458b4ee53b77dbaaeabf7722c8c06c38">QCBOREncode_AddUndefToMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="aac7f724a9a4d5dbf68be3dff27cc4882" name="aac7f724a9a4d5dbf68be3dff27cc4882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7f724a9a4d5dbf68be3dff27cc4882">&#9670;&#160;</a></span>QCBOREncode_AddUndefToMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddUndefToMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a985cbeda0da0d80a30cd1619d812ac01" title="Add an &quot;undef&quot; to the encoded output.">QCBOREncode_AddUndef()</a>. </p>

</div>
</div>
<a id="a458b4ee53b77dbaaeabf7722c8c06c38" name="a458b4ee53b77dbaaeabf7722c8c06c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a458b4ee53b77dbaaeabf7722c8c06c38">&#9670;&#160;</a></span>QCBOREncode_AddUndefToMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_AddUndefToMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a985cbeda0da0d80a30cd1619d812ac01" title="Add an &quot;undef&quot; to the encoded output.">QCBOREncode_AddUndef()</a>. </p>

</div>
</div>
<a id="a85139b377c9cf7ac5a3d3ff5a825abb1" name="a85139b377c9cf7ac5a3d3ff5a825abb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85139b377c9cf7ac5a3d3ff5a825abb1">&#9670;&#160;</a></span>QCBOREncode_BstrWrap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_BstrWrap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate start of encoded CBOR to be wrapped in a bstr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to open the bstr-wrapped CBOR in.</td></tr>
  </table>
  </dd>
</dl>
<p>All added encoded items between this call and a call to <a class="el" href="#aef8d3221498714c1b165740feaa57be2" title="Close a wrapping bstr.">QCBOREncode_CloseBstrWrap2()</a> will be wrapped in a bstr. They will appear in the final output as a byte string. That byte string will contain encoded CBOR. This increases nesting level by one.</p>
<p>The typical use case is for encoded CBOR that is to be cryptographically hashed, as part of a <a href="https://www.rfc-editor.org/rfc/rfc9052.html">RFC 9052, COSE</a> implementation. The wrapping byte string is taken as input by the hash function (which is why it is returned by <a class="el" href="#aef8d3221498714c1b165740feaa57be2" title="Close a wrapping bstr.">QCBOREncode_CloseBstrWrap2()</a>). It is also easy to recover on decoding with standard CBOR decoders.</p>
<p>Using <a class="el" href="#a85139b377c9cf7ac5a3d3ff5a825abb1" title="Indicate start of encoded CBOR to be wrapped in a bstr.">QCBOREncode_BstrWrap()</a> and <a class="el" href="#aef8d3221498714c1b165740feaa57be2" title="Close a wrapping bstr.">QCBOREncode_CloseBstrWrap2()</a> avoids having to encode the items first in one buffer (e.g., the COSE payload) and then add that buffer as a bstr to another encoding (e.g. the COSE to-be-signed bytes, the <code>Sig_structure</code>) potentially halving the memory needed.</p>
<p>CBOR by nature must be decoded item by item in order from the start. By wrapping some CBOR in a byte string, the decoding of that wrapped CBOR can be skipped. This is another use of wrapping, perhaps because the CBOR is large and deeply nested. Perhaps APIs for handling one defined CBOR message that is being embedded in another only take input as a byte string. Perhaps the desire is to be able to decode the out layer even in the wrapped has errors. </p>

</div>
</div>
<a id="a7a76e0c163816c07ad4ea7451523763e" name="a7a76e0c163816c07ad4ea7451523763e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a76e0c163816c07ad4ea7451523763e">&#9670;&#160;</a></span>QCBOREncode_BstrWrapInMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_BstrWrapInMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000013">Deprecated</a></b></dt><dd>Use <a class="el" href="#af501f5582945d21ce7a7af6302df6bb0">QCBOREncode_BstrWrapInMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a506730c02c912daae36582bd8cb59d8c" name="a506730c02c912daae36582bd8cb59d8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a506730c02c912daae36582bd8cb59d8c">&#9670;&#160;</a></span>QCBOREncode_BstrWrapInMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_BstrWrapInMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a85139b377c9cf7ac5a3d3ff5a825abb1" title="Indicate start of encoded CBOR to be wrapped in a bstr.">QCBOREncode_BstrWrap()</a>. </p>

</div>
</div>
<a id="af501f5582945d21ce7a7af6302df6bb0" name="af501f5582945d21ce7a7af6302df6bb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af501f5582945d21ce7a7af6302df6bb0">&#9670;&#160;</a></span>QCBOREncode_BstrWrapInMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_BstrWrapInMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a85139b377c9cf7ac5a3d3ff5a825abb1" title="Indicate start of encoded CBOR to be wrapped in a bstr.">QCBOREncode_BstrWrap()</a>. </p>

</div>
</div>
<a id="a5ae69f2d1297251621d1d25c02b91c5d" name="a5ae69f2d1297251621d1d25c02b91c5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae69f2d1297251621d1d25c02b91c5d">&#9670;&#160;</a></span>QCBOREncode_CancelBstrWrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QCBOREncode_CancelBstrWrap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel byte string wrapping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context.</td></tr>
  </table>
  </dd>
</dl>
<p>This cancels <a class="el" href="#a85139b377c9cf7ac5a3d3ff5a825abb1" title="Indicate start of encoded CBOR to be wrapped in a bstr.">QCBOREncode_BstrWrap()</a> making the encoding as if it were never called.</p>
<p>WARNING: This does not work on <a class="el" href="#af501f5582945d21ce7a7af6302df6bb0">QCBOREncode_BstrWrapInMapSZ()</a> or <a class="el" href="#a506730c02c912daae36582bd8cb59d8c">QCBOREncode_BstrWrapInMapN()</a> and there is no error detection of an attempt at their use.</p>
<p>This only works if nothing has been added into the wrapped byte string. If something has been added, this sets the error <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a3c9f63e76a3fbcf09fa58271768a1303">QCBOR_ERR_CANNOT_CANCEL</a>. </p>

</div>
</div>
<a id="a6f5e36e1e62fcc889d8e8c697d5406b0" name="a6f5e36e1e62fcc889d8e8c697d5406b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f5e36e1e62fcc889d8e8c697d5406b0">&#9670;&#160;</a></span>QCBOREncode_CloseAndSortMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QCBOREncode_CloseAndSortMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close and sort an open map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to close the map in .</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="#a7d5cfef1320df2688e45dbb2ed075f40" title="Close an open map.">QCBOREncode_CloseMap()</a> except it sorts the map per RFC 8949 Section 4.2.1 and checks for duplicate map keys. This sort is lexicographic of the CBOR-encoded map labels.</p>
<p>This is more expensive than most things in the encoder. It uses bubble sort which runs in n-squared time where <code>n</code> is the number of map items. Sorting large maps on slow CPUs might be slow. This is also increases the object code size of the encoder by about 30% (500-1000 bytes).</p>
<p>Bubble sort was selected so as to not need require configuration of a buffer to track map item offsets. Bubble sort works well even though map items are not all the same size because it always swaps adjacent items. </p>

</div>
</div>
<a id="ac5cd4b3f537907e7a129f21a6d0f4bd2" name="ac5cd4b3f537907e7a129f21a6d0f4bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5cd4b3f537907e7a129f21a6d0f4bd2">&#9670;&#160;</a></span>QCBOREncode_CloseAndSortMapIndef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QCBOREncode_CloseAndSortMapIndef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>See <a class="el" href="#ac5cd4b3f537907e7a129f21a6d0f4bd2">QCBOREncode_CloseAndSortMapIndef()</a>. </p>

</div>
</div>
<a id="a8c24ab9ee7f6b953315f4b48ef14895e" name="a8c24ab9ee7f6b953315f4b48ef14895e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c24ab9ee7f6b953315f4b48ef14895e">&#9670;&#160;</a></span>QCBOREncode_CloseArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_CloseArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close an open array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to close the array in.</td></tr>
  </table>
  </dd>
</dl>
<p>The closes an array opened by <a class="el" href="#a21148334efda30e4f771b23b121204f1" title="Indicates that the next items added are in an array.">QCBOREncode_OpenArray()</a>. It reduces nesting level by one. All arrays (and maps) must be closed before calling <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a>.</p>
<p>When an error occurs as a result of this call, the encoder records the error and enters the error state. The error will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called.</p>
<p>If this has been called more times than <a class="el" href="#a21148334efda30e4f771b23b121204f1" title="Indicates that the next items added are in an array.">QCBOREncode_OpenArray()</a>, then <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42ab79ef3fec6d6ef45c85d925a5f9c78c6">QCBOR_ERR_TOO_MANY_CLOSES</a> will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called.</p>
<p>If this is called and it is not an array that is currently open, <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a439657577b3780303291244cbac1077e">QCBOR_ERR_CLOSE_MISMATCH</a> will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called. </p>

</div>
</div>
<a id="abe5d6279954828b0c99dba6dce36d129" name="abe5d6279954828b0c99dba6dce36d129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe5d6279954828b0c99dba6dce36d129">&#9670;&#160;</a></span>QCBOREncode_CloseArrayIndefiniteLength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_CloseArrayIndefiniteLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close an open indefinite length array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to close the array in.</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="#a8c24ab9ee7f6b953315f4b48ef14895e" title="Close an open array.">QCBOREncode_CloseArray()</a>, but the open array that is being close must be of indefinite length. </p>

</div>
</div>
<a id="a7c6985587a00a60907d846c2805fd910" name="a7c6985587a00a60907d846c2805fd910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6985587a00a60907d846c2805fd910">&#9670;&#160;</a></span>QCBOREncode_CloseBstrWrap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_CloseBstrWrap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> *</td>          <td class="paramname"><span class="paramname"><em>pWrappedCBOR</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#aef8d3221498714c1b165740feaa57be2" title="Close a wrapping bstr.">QCBOREncode_CloseBstrWrap2()</a>. </p>

</div>
</div>
<a id="aef8d3221498714c1b165740feaa57be2" name="aef8d3221498714c1b165740feaa57be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8d3221498714c1b165740feaa57be2">&#9670;&#160;</a></span>QCBOREncode_CloseBstrWrap2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QCBOREncode_CloseBstrWrap2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>bIncludeCBORHead</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> *</td>          <td class="paramname"><span class="paramname"><em>pWrappedCBOR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a wrapping bstr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to close of bstr wrapping in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bIncludeCBORHead</td><td>Include the encoded CBOR head of the bstr as well as the bytes in <code>pWrappedCBOR</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pWrappedCBOR</td><td>A <a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> containing wrapped bytes.</td></tr>
  </table>
  </dd>
</dl>
<p>The closes a wrapping bstr opened by <a class="el" href="#a85139b377c9cf7ac5a3d3ff5a825abb1" title="Indicate start of encoded CBOR to be wrapped in a bstr.">QCBOREncode_BstrWrap()</a>. It reduces nesting level by one.</p>
<p>A pointer and length of the enclosed encoded CBOR is returned in <code>*pWrappedCBOR</code> if it is not <code>NULL</code>. The main purpose of this is so this data can be hashed (e.g., with SHA-256) as part of a <a href="https://www.rfc-editor.org/rfc/rfc9052.html">RFC 9052, COSE</a> implementation. <b>WARNING</b>, this pointer and length should be used right away before any other calls to <code>QCBOREncode_CloseXxx()</code> as they will move data around and the pointer and length will no longer be to the correct encoded CBOR.</p>
<p>When an error occurs as a result of this call, the encoder records the error and enters the error state. The error will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called.</p>
<p>If this has been called more times than <a class="el" href="#a85139b377c9cf7ac5a3d3ff5a825abb1" title="Indicate start of encoded CBOR to be wrapped in a bstr.">QCBOREncode_BstrWrap()</a>, then <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42ab79ef3fec6d6ef45c85d925a5f9c78c6">QCBOR_ERR_TOO_MANY_CLOSES</a> will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called.</p>
<p>If this is called and it is not a wrapping bstr that is currently open, <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a439657577b3780303291244cbac1077e">QCBOR_ERR_CLOSE_MISMATCH</a> will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called.</p>
<p><a class="el" href="#a7c6985587a00a60907d846c2805fd910">QCBOREncode_CloseBstrWrap()</a> is a deprecated version of this function that is equivalent to the call with <code>bIncludeCBORHead</code> <code>true</code>. </p>

</div>
</div>
<a id="a67ba18aaa6b598cfb08f85a6a7dd2a58" name="a67ba18aaa6b598cfb08f85a6a7dd2a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67ba18aaa6b598cfb08f85a6a7dd2a58">&#9670;&#160;</a></span>QCBOREncode_CloseBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QCBOREncode_CloseBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>uAmount</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close out a byte string written directly to encoded output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the bytes to. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uAmount</td><td>The number of bytes written, the length of the byte string.</td></tr>
  </table>
  </dd>
</dl>
<p>This closes out a call to <a class="el" href="#ad3a69abba8fed8f91264ff720ea80014" title="Set up to write a byte string value directly to encoded output.">QCBOREncode_OpenBytes()</a>. This inserts a CBOR header at the front of the byte string value to make it a well-formed byte string.</p>
<p>If there was no call to <a class="el" href="#ad3a69abba8fed8f91264ff720ea80014" title="Set up to write a byte string value directly to encoded output.">QCBOREncode_OpenBytes()</a> then <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42ab79ef3fec6d6ef45c85d925a5f9c78c6">QCBOR_ERR_TOO_MANY_CLOSES</a> is set. </p>

</div>
</div>
<a id="a7d5cfef1320df2688e45dbb2ed075f40" name="a7d5cfef1320df2688e45dbb2ed075f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5cfef1320df2688e45dbb2ed075f40">&#9670;&#160;</a></span>QCBOREncode_CloseMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_CloseMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close an open map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to close the map in.</td></tr>
  </table>
  </dd>
</dl>
<p>This closes a map opened by <a class="el" href="#aea839bfa7b1375ed4f903de7bf3212f8" title="Indicates that the next items added are in a map.">QCBOREncode_OpenMap()</a>. It reduces nesting level by one.</p>
<p>When an error occurs as a result of this call, the encoder records the error and enters the error state. The error will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called.</p>
<p>If this has been called more times than <a class="el" href="#aea839bfa7b1375ed4f903de7bf3212f8" title="Indicates that the next items added are in a map.">QCBOREncode_OpenMap()</a>, then <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42ab79ef3fec6d6ef45c85d925a5f9c78c6">QCBOR_ERR_TOO_MANY_CLOSES</a> will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called.</p>
<p>If this is called and it is not a map that is currently open, <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a439657577b3780303291244cbac1077e">QCBOR_ERR_CLOSE_MISMATCH</a> will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called. </p>

</div>
</div>
<a id="a7fd269a252fa67dc5300bdd7c80617cd" name="a7fd269a252fa67dc5300bdd7c80617cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd269a252fa67dc5300bdd7c80617cd">&#9670;&#160;</a></span>QCBOREncode_CloseMapIndefiniteLength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_CloseMapIndefiniteLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close an open indefinite length map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to close the map in.</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="#a7d5cfef1320df2688e45dbb2ed075f40" title="Close an open map.">QCBOREncode_CloseMap()</a>, but the open map that is being close must be of indefinite length. </p>

</div>
</div>
<a id="aa2b18afa0d48816db4cd2a5bd5eb7e23" name="aa2b18afa0d48816db4cd2a5bd5eb7e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b18afa0d48816db4cd2a5bd5eb7e23">&#9670;&#160;</a></span>QCBOREncode_Config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_Config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#a36476447752aceeb113120da33943033">QCBOREncodeConfig</a></td>          <td class="paramname"><span class="paramname"><em>uConfig</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the encoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context for mode set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uConfig</td><td>See <a class="el" href="#a36476447752aceeb113120da33943033">QCBOREncodeConfig</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>QCBOR usually as needed without configuration.</p>
<p>QCBOR encodes with preferred serialization by default but provides some explicit functions that don't. This can configure QCBOR to error if they are used. This can also be used to encode dCBOR.</p>
<p>See <a class="el" href="#a36476447752aceeb113120da33943033a0752552e851abbd4f054368870a136cb">QCBOR_ENCODE_CONFIG_PREFERRED</a>, <a class="el" href="#a36476447752aceeb113120da33943033a99cb97c6530529de6d16497c6d40c4ee">QCBOR_ENCODE_CONFIG_DCBOR</a>, <a class="el" href="#a36476447752aceeb113120da33943033a79a05d999b1c8e270248b4efb62e3aed">QCBOR_ENCODE_CONFIG_SORT</a> and such.</p>
<p>Also see <a class="el" href="#a929cd09d93295e183a5306707167db33" title="Configure the encoder, reduced object code.">QCBOREncode_ConfigReduced()</a> if you are concerned about the amount of linked. </p>

</div>
</div>
<a id="a929cd09d93295e183a5306707167db33" name="a929cd09d93295e183a5306707167db33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929cd09d93295e183a5306707167db33">&#9670;&#160;</a></span>QCBOREncode_ConfigReduced()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_ConfigReduced </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#a36476447752aceeb113120da33943033">QCBOREncodeConfig</a></td>          <td class="paramname"><span class="paramname"><em>uConfig</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the encoder, reduced object code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context for mode set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uConfig</td><td>Bit flags for configuration options.</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="#aa2b18afa0d48816db4cd2a5bd5eb7e23" title="Configure the encoder.">QCBOREncode_Config()</a> except it can't configure anything to do with map sorting. That includes both CDE and dCBOR. <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a9692655f96a29eacbdc5d9365d8d9211">QCBOR_ERR_NOT_ALLOWED</a> is returned if trying to configure map sorting. </p>

</div>
</div>
<a id="a27fadfc0ca6ccb04c6fa45ebf721880c" name="a27fadfc0ca6ccb04c6fa45ebf721880c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27fadfc0ca6ccb04c6fa45ebf721880c">&#9670;&#160;</a></span>QCBOREncode_EncodeHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> QCBOREncode_EncodeHead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a></td>          <td class="paramname"><span class="paramname"><em>Buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>uMajorType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>uMinLen</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>uNumber</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the head of a CBOR data item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>Buffer to output the encoded head to; must be <a class="el" href="#a51e682414dbc970650525b9f966fb278">QCBOR_HEAD_BUFFER_SIZE</a> bytes in size. </td></tr>
    <tr><td class="paramname">uMajorType</td><td>One of CBOR_MAJOR_TYPE_XX. </td></tr>
    <tr><td class="paramname">uMinLen</td><td>The minimum number of bytes to encode uNumber. Almost always this is 0 to use preferred serialization. If this is 4, then even the values 0xffff and smaller will be encoded in 4 bytes. This is used primarily when encoding a float or double put into uNumber as the leading zero bytes for them must be encoded. </td></tr>
    <tr><td class="paramname">uNumber</td><td>The numeric argument part of the CBOR head. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer and length of the encoded head or <a class="el" href="_useful_buf_8h.html#aef281b38ce49e9413dad0893d225c70d">NULLUsefulBufC</a> if the output buffer is too small.</dd></dl>
<p>Callers do not to need to call this for normal CBOR encoding. Note that it doesn't even take a <a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> argument.</p>
<p>This encodes the major type and argument part of a data item. The argument is an integer that is usually either the value or the length of the data item.</p>
<p>This is exposed in the public interface to allow hashing of some CBOR data types, bstr in particular, a chunk at a time so the full CBOR doesn't have to be encoded in a contiguous buffer.</p>
<p>For example, if you have a 100,000 byte binary blob in a buffer that needs to be bstr encoded and then hashed. You could allocate a 100,010 byte buffer and encode it normally. Alternatively, you can encode the head in a 10 byte buffer with this function, hash that and then hash the 100,000 bytes using the same hash context. </p>

</div>
</div>
<a id="ac0498cefe2cb8d1454340cc8f68cb75f" name="ac0498cefe2cb8d1454340cc8f68cb75f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0498cefe2cb8d1454340cc8f68cb75f">&#9670;&#160;</a></span>QCBOREncode_Finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42">QCBORError</a> QCBOREncode_Finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> *</td>          <td class="paramname"><span class="paramname"><em>pEncodedCBOR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the encoded result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The context to finish encoding with. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pEncodedCBOR</td><td>Structure in which the pointer and length of the encoded CBOR is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">QCBOR_SUCCESS</td><td>Encoded CBOR is returned.</td></tr>
    <tr><td class="paramname">QCBOR_ERR_TOO_MANY_CLOSES</td><td>Nesting error</td></tr>
    <tr><td class="paramname">QCBOR_ERR_CLOSE_MISMATCH</td><td>Nesting error</td></tr>
    <tr><td class="paramname">QCBOR_ERR_ARRAY_OR_MAP_STILL_OPEN</td><td>Nesting error</td></tr>
    <tr><td class="paramname">QCBOR_ERR_BUFFER_TOO_LARGE</td><td>Encoded output buffer size</td></tr>
    <tr><td class="paramname">QCBOR_ERR_BUFFER_TOO_SMALL</td><td>Encoded output buffer size</td></tr>
    <tr><td class="paramname">QCBOR_ERR_ARRAY_NESTING_TOO_DEEP</td><td>Implementation limit</td></tr>
    <tr><td class="paramname">QCBOR_ERR_ARRAY_TOO_LONG</td><td>Implementation limit</td></tr>
  </table>
  </dd>
</dl>
<p>On success, the pointer and length of the encoded CBOR are returned in <code>*pEncodedCBOR</code>. The pointer is the same pointer that was passed in to <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a>. Note that it is not const when passed to <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a>, but it is const when returned here. The length will be smaller than or equal to the length passed in when <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a> as this is the length of the actual result, not the size of the buffer it was written to.</p>
<p>If a <code>NULL</code> was passed for <code>Storage.ptr</code> when <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a> was called, <code>NULL</code> will be returned here, but the length will be that of the CBOR that would have been encoded.</p>
<p>Encoding errors primarily manifest here as most other encoding function do no return an error. They just set the error state in the encode context after which no encoding function does anything.</p>
<p>Three types of errors manifest here. The first type are nesting errors where the number of <code>QCBOREncode_OpenXxx()</code> calls do not match the number <code>QCBOREncode_CloseXxx()</code> calls. The solution is to fix the calling code.</p>
<p>The second type of error is because the buffer given is either too small or too large. The remedy is to give a correctly sized buffer.</p>
<p>The third type are due to limits in this implementation. <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a0d74cc5b94f9510ecc5f330c238508b8">QCBOR_ERR_ARRAY_NESTING_TOO_DEEP</a> can be worked around by encoding the CBOR in two (or more) phases and adding the CBOR from the first phase to the second with <code><a class="el" href="#a4ef36a1bee0195329681994be905cd8e" title="Add some already-encoded CBOR bytes.">QCBOREncode_AddEncoded()</a></code>.</p>
<p>If an error is returned, the buffer may have partially encoded incorrect CBOR in it and it should not be used. Likewise, the length may be incorrect and should not be used.</p>
<p>Note that the error could have occurred in one of the many <code>QCBOREncode_AddXxx()</code> calls long before <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> was called. This error handling reduces the CBOR implementation size but makes debugging harder.</p>
<p>This may be called multiple times. It will always return the same. It can also be interleaved with calls to <a class="el" href="#a012f50732fbd530eef67dee5111eedce" title="Get the encoded CBOR and error status.">QCBOREncode_FinishGetSize()</a>. See <a class="el" href="#a7eb00a4922cbf362c8a327a7a85b13ae" title="Get a substring of encoded CBOR for cryptographic hash.">QCBOREncode_SubString()</a> for a means to get the thus-far-encoded CBOR.</p>
<p><a class="el" href="#a5ebd2770f7806b2ee9f948266ca940b6" title="Get the encoding error state.">QCBOREncode_GetErrorState()</a> can be called to get the current error state in order to abort encoding early as an optimization, but calling it is is never required. </p>

</div>
</div>
<a id="a012f50732fbd530eef67dee5111eedce" name="a012f50732fbd530eef67dee5111eedce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012f50732fbd530eef67dee5111eedce">&#9670;&#160;</a></span>QCBOREncode_FinishGetSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42">QCBORError</a> QCBOREncode_FinishGetSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>uEncodedLen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the encoded CBOR and error status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The context to finish encoding with. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uEncodedLen</td><td>The length of the encoded or potentially encoded CBOR in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The same errors as <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a>.</dd></dl>
<p>This functions the same as <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a>, but only returns the size of the encoded output. </p>

</div>
</div>
<a id="a5ebd2770f7806b2ee9f948266ca940b6" name="a5ebd2770f7806b2ee9f948266ca940b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ebd2770f7806b2ee9f948266ca940b6">&#9670;&#160;</a></span>QCBOREncode_GetErrorState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42">QCBORError</a> QCBOREncode_GetErrorState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the encoding error state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42">QCBORError</a>. See return values from <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a></dd></dl>
<p>Normally encoding errors need only be handled at the end of encoding when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called. This can be called to get the error result before finish should there be a need to halt encoding before <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called. </p>

</div>
</div>
<a id="ab7f85546a84e1301d1a6af6890cb191e" name="ab7f85546a84e1301d1a6af6890cb191e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7f85546a84e1301d1a6af6890cb191e">&#9670;&#160;</a></span>QCBOREncode_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QCBOREncode_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a></td>          <td class="paramname"><span class="paramname"><em>Storage</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the encoder.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pCtx</td><td>The encoder context to initialize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Storage</td><td>The buffer into which the encoded result will be written.</td></tr>
  </table>
  </dd>
</dl>
<p>Call this once at the start of an encoding of some CBOR. Then call the many functions like QCBOREncode_AddInt64() and <a class="el" href="#a9f3fe0d53bc053327c18138d296ca4c2" title="Add a UTF-8 text string to the encoded output.">QCBOREncode_AddText()</a> to add the different data items. Finally, call <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> to get the pointer and length of the encoded result.</p>
<p>The primary purpose of this function is to give the pointer and length of the output buffer into which the encoded CBOR will be written. This is done with a <a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> structure, which is just a pointer and length (it is equivalent to two parameters, one a pointer and one a length, but a little prettier).</p>
<p>The output buffer can be allocated any way (malloc, stack, static). It is just some memory that QCBOR writes to. The length must be the length of the allocated buffer. QCBOR will never write past that length, but might write up to that length. If the buffer is too small, encoding will go into an error state and not write anything further.</p>
<p>If allocating on the stack, the convenience macro <a class="el" href="_useful_buf_8h.html#ace69a6220419dd9dc204770c5b87efb6">UsefulBuf_MAKE_STACK_UB()</a> can be used, but its use is not required.</p>
<p>Since there is no reallocation or such, the output buffer must be correctly sized when passed in here. It is OK, but wasteful if it is too large. One way to pick the size is to figure out the maximum size that will ever be needed and hard code a buffer of that size.</p>
<p>Another way to do it is to have QCBOR calculate it for you. To do this, pass <a class="el" href="_useful_buf_8h.html#a7b4919809b569fd7fc5ead3fa926c9de">SizeCalculateUsefulBuf</a> for <code>Storage</code>. Then call all the functions to add the CBOR exactly as if encoding for real. Finally, call <a class="el" href="#a012f50732fbd530eef67dee5111eedce" title="Get the encoded CBOR and error status.">QCBOREncode_FinishGetSize()</a>. Once the length is obtained, allocate a buffer of that size, call <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a> again with the real buffer. Call all the add functions again and finally, <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> to obtain the final result. This uses twice the CPU time, but that is usually not an issue.</p>
<p>See <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> for how the pointer and length for the encoded CBOR is returned.</p>
<p>For practical purposes QCBOR can't output encoded CBOR larger than <code>UINT32_MAX</code> (4GB) even on 64-bit CPUs because the internal offsets used to track the start of an array/map are 32 bits to reduce the size of the encoding context.</p>
<p>A <a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> can be reused over and over as long as <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a> is called before each use. </p>

</div>
</div>
<a id="ad5d81aa4ff93e7b84f9f9da625191ec8" name="ad5d81aa4ff93e7b84f9f9da625191ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d81aa4ff93e7b84f9f9da625191ec8">&#9670;&#160;</a></span>QCBOREncode_IsBufferNULL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int QCBOREncode_IsBufferNULL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate whether the output storage buffer is NULL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the output buffer is <code>NULL</code>.</dd></dl>
<p>As described in <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a>, <code>Storage.ptr</code> may be give as <code>NULL</code> for output size calculation. This returns 1 when that is the true, and 0 if not. </p>

</div>
</div>
<a id="a21148334efda30e4f771b23b121204f1" name="a21148334efda30e4f771b23b121204f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21148334efda30e4f771b23b121204f1">&#9670;&#160;</a></span>QCBOREncode_OpenArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates that the next items added are in an array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to open the array in.</td></tr>
  </table>
  </dd>
</dl>
<p>Arrays are the basic CBOR aggregate or structure type. Call this function to start or open an array. Then call the various <code>QCBOREncode_AddXxx()</code> functions to add the items that go into the array. Then call <a class="el" href="#a8c24ab9ee7f6b953315f4b48ef14895e" title="Close an open array.">QCBOREncode_CloseArray()</a> when all items have been added. The data items in the array can be of any type and can be of mixed types.</p>
<p>Nesting of arrays and maps is allowed and supported just by calling <a class="el" href="#a21148334efda30e4f771b23b121204f1" title="Indicates that the next items added are in an array.">QCBOREncode_OpenArray()</a> again before calling <a class="el" href="#a8c24ab9ee7f6b953315f4b48ef14895e" title="Close an open array.">QCBOREncode_CloseArray()</a>. While CBOR has no limit on nesting, this implementation does in order to keep it smaller and simpler. The limit is <a class="el" href="qcbor__common_8h.html#adecdeb0c5bc02f8892a2c89cdae3e25e">QCBOR_MAX_ARRAY_NESTING</a>. This is the max number of times this can be called without calling <a class="el" href="#a8c24ab9ee7f6b953315f4b48ef14895e" title="Close an open array.">QCBOREncode_CloseArray()</a>. <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> will return <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a0d74cc5b94f9510ecc5f330c238508b8">QCBOR_ERR_ARRAY_NESTING_TOO_DEEP</a> when it is called as this function just sets an error state and returns no value when this occurs.</p>
<p>If you try to add more than <a class="el" href="qcbor__common_8h.html#adb9b599e92af0a69453a8f8b61ec7777">QCBOR_MAX_ITEMS_IN_ARRAY</a> items to a single array or map, <a class="el" href="qcbor__common_8h.html#a917c840b71af72c2cdd4b31bb2a4fb42a16d78e7c134706bfa0c5b221774cc9b4">QCBOR_ERR_ARRAY_TOO_LONG</a> will be returned when <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a> is called.</p>
<p>An array itself must have a label if it is being added to a map. Note that array elements do not have labels (but map elements do).</p>
<p>An array itself may be tagged by calling <a class="el" href="qcbor__tag__encode_8h.html#aca0fd43e2d7ee0f20da8dd7eae5d51b8" title="Add a tag number.">QCBOREncode_AddTagNumber()</a> before this call. </p>

</div>
</div>
<a id="a3ad21cba63076f9648500797e8bace96" name="a3ad21cba63076f9648500797e8bace96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ad21cba63076f9648500797e8bace96">&#9670;&#160;</a></span>QCBOREncode_OpenArrayIndefiniteLength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenArrayIndefiniteLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates that the next items added are in an indefinite length array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to open the array in.</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="#a21148334efda30e4f771b23b121204f1" title="Indicates that the next items added are in an array.">QCBOREncode_OpenArray()</a> except the array is indefinite length.</p>
<p>This must be closed with <a class="el" href="#abe5d6279954828b0c99dba6dce36d129" title="Close an open indefinite length array.">QCBOREncode_CloseArrayIndefiniteLength()</a>. </p>

</div>
</div>
<a id="a318809bba5f6cba2638c1652d88926a2" name="a318809bba5f6cba2638c1652d88926a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a318809bba5f6cba2638c1652d88926a2">&#9670;&#160;</a></span>QCBOREncode_OpenArrayIndefiniteLengthInMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenArrayIndefiniteLengthInMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000011">Deprecated</a></b></dt><dd>Use <a class="el" href="#a690eab81d5cbf925150f6b08883bd916">QCBOREncode_OpenArrayIndefiniteLengthInMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a150d816bd45635cf2e2d6ce752864060" name="a150d816bd45635cf2e2d6ce752864060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a150d816bd45635cf2e2d6ce752864060">&#9670;&#160;</a></span>QCBOREncode_OpenArrayIndefiniteLengthInMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenArrayIndefiniteLengthInMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a3ad21cba63076f9648500797e8bace96" title="Indicates that the next items added are in an indefinite length array.">QCBOREncode_OpenArrayIndefiniteLength()</a>. </p>

</div>
</div>
<a id="a690eab81d5cbf925150f6b08883bd916" name="a690eab81d5cbf925150f6b08883bd916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690eab81d5cbf925150f6b08883bd916">&#9670;&#160;</a></span>QCBOREncode_OpenArrayIndefiniteLengthInMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenArrayIndefiniteLengthInMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a3ad21cba63076f9648500797e8bace96" title="Indicates that the next items added are in an indefinite length array.">QCBOREncode_OpenArrayIndefiniteLength()</a>. </p>

</div>
</div>
<a id="ad12d368b976b851ab15895ab1d7d47b1" name="ad12d368b976b851ab15895ab1d7d47b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12d368b976b851ab15895ab1d7d47b1">&#9670;&#160;</a></span>QCBOREncode_OpenArrayInMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenArrayInMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000009">Deprecated</a></b></dt><dd>Use <a class="el" href="#acdca1f00004ab9b8e72eb75ca791b58b">QCBOREncode_OpenArrayInMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a3c0e6e56daaf27c4e18d9449cf53bf69" name="a3c0e6e56daaf27c4e18d9449cf53bf69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c0e6e56daaf27c4e18d9449cf53bf69">&#9670;&#160;</a></span>QCBOREncode_OpenArrayInMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenArrayInMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a21148334efda30e4f771b23b121204f1" title="Indicates that the next items added are in an array.">QCBOREncode_OpenArray()</a>. </p>

</div>
</div>
<a id="acdca1f00004ab9b8e72eb75ca791b58b" name="acdca1f00004ab9b8e72eb75ca791b58b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdca1f00004ab9b8e72eb75ca791b58b">&#9670;&#160;</a></span>QCBOREncode_OpenArrayInMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenArrayInMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a21148334efda30e4f771b23b121204f1" title="Indicates that the next items added are in an array.">QCBOREncode_OpenArray()</a>. </p>

</div>
</div>
<a id="ad3a69abba8fed8f91264ff720ea80014" name="ad3a69abba8fed8f91264ff720ea80014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a69abba8fed8f91264ff720ea80014">&#9670;&#160;</a></span>QCBOREncode_OpenBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QCBOREncode_OpenBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> *</td>          <td class="paramname"><span class="paramname"><em>pPlace</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up to write a byte string value directly to encoded output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to add the bytes to. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pPlace</td><td>Pointer and length of place to write byte string value.</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="#ab4dca590e5786084b788de7cac2a3cc5" title="Add a byte string to the encoded output.">QCBOREncode_AddBytes()</a> is the normal way to encode a byte string. This is for special cases and by passes some of the pointer safety.</p>
<p>The purpose of this is to output the bytes that make up a byte string value directly to the QCBOR output buffer so you don't need to have a copy of it in memory. This is particularly useful if the byte string is large, for example, the encrypted payload of a COSE_Encrypt message. The payload encryption algorithm can output directly to the encoded CBOR buffer, perhaps by making it the output buffer for some function (e.g. symmetric encryption) or by multiple writes.</p>
<p>The pointer in <code>pPlace</code> is where to start writing. Writing is just copying bytes to the location by the pointer in <code>pPlace</code>. Writing past the length in <code>pPlace</code> will be writing off the end of the output buffer.</p>
<p>If there is no room in the output buffer <a class="el" href="_useful_buf_8h.html#ac590bc10c66f484fe139b361fe01c339">NULLUsefulBuf</a> will be returned and there is no need to call <a class="el" href="#a67ba18aaa6b598cfb08f85a6a7dd2a58" title="Close out a byte string written directly to encoded output.">QCBOREncode_CloseBytes()</a>.</p>
<p>The byte string must be closed by calling <a class="el" href="#a67ba18aaa6b598cfb08f85a6a7dd2a58" title="Close out a byte string written directly to encoded output.">QCBOREncode_CloseBytes()</a>.</p>
<p>Warning: this bypasses some of the usual checks provided by QCBOR against writing off the end of the encoded output buffer. </p>

</div>
</div>
<a id="a7a04b80b69ce7698a944060950259663" name="a7a04b80b69ce7698a944060950259663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a04b80b69ce7698a944060950259663">&#9670;&#160;</a></span>QCBOREncode_OpenBytesInMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenBytesInMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> *</td>          <td class="paramname"><span class="paramname"><em>pPlace</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See QCBOREncode_OpenBytesInMap(). </p>

</div>
</div>
<a id="a5428b92d08769d65a99fcc0e747f7c37" name="a5428b92d08769d65a99fcc0e747f7c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5428b92d08769d65a99fcc0e747f7c37">&#9670;&#160;</a></span>QCBOREncode_OpenBytesInMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenBytesInMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> *</td>          <td class="paramname"><span class="paramname"><em>pPlace</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See QCBOREncode_OpenBytesInMap(). </p>

</div>
</div>
<a id="aea839bfa7b1375ed4f903de7bf3212f8" name="aea839bfa7b1375ed4f903de7bf3212f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea839bfa7b1375ed4f903de7bf3212f8">&#9670;&#160;</a></span>QCBOREncode_OpenMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates that the next items added are in a map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to open the map in.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="#a21148334efda30e4f771b23b121204f1" title="Indicates that the next items added are in an array.">QCBOREncode_OpenArray()</a> for more information, particularly error handling.</p>
<p>CBOR maps are an aggregate type where each item in the map consists of a label and a value. They are similar to JSON objects.</p>
<p>The value can be any CBOR type including another map.</p>
<p>The label can also be any CBOR type, but in practice they are typically, integers as this gives the most compact output. They might also be text strings which gives readability and translation to JSON.</p>
<p>Every <code>QCBOREncode_AddXxx()</code> call has one version that ends with <code>InMap</code> for adding items to maps with string labels and one that ends with <code>InMapN</code> that is for adding with integer labels.</p>
<p>RFC 8949 uses the term "key" instead of "label".</p>
<p>If you wish to use map labels that are neither integer labels nor text strings, then just call the QCBOREncode_AddXxx() function explicitly to add the label. Then call it again to add the value.</p>
<p>See the <a href="https://www.rfc-editor.org/rfc/rfc8949.html">RFC 8949</a> for a lot more information on creating maps. </p>

</div>
</div>
<a id="a2faaed04870040214467d9dbf5ba9f59" name="a2faaed04870040214467d9dbf5ba9f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2faaed04870040214467d9dbf5ba9f59">&#9670;&#160;</a></span>QCBOREncode_OpenMapIndefiniteLength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenMapIndefiniteLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates that the next items added are in an indefinite length map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context to open the map in.</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="#aea839bfa7b1375ed4f903de7bf3212f8" title="Indicates that the next items added are in a map.">QCBOREncode_OpenMap()</a> except the array is indefinite length.</p>
<p>This must be closed with <a class="el" href="#a7fd269a252fa67dc5300bdd7c80617cd" title="Close an open indefinite length map.">QCBOREncode_CloseMapIndefiniteLength()</a>. </p>

</div>
</div>
<a id="abd78c9da7ca98d14088f73eb82fb3cb6" name="abd78c9da7ca98d14088f73eb82fb3cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd78c9da7ca98d14088f73eb82fb3cb6">&#9670;&#160;</a></span>QCBOREncode_OpenMapIndefiniteLengthInMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenMapIndefiniteLengthInMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000012">Deprecated</a></b></dt><dd>Use <a class="el" href="#aa9c4058e86dd6f840d64c72448550ac2">QCBOREncode_OpenMapIndefiniteLengthInMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a7401240676072485468358ed6cb93143" name="a7401240676072485468358ed6cb93143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7401240676072485468358ed6cb93143">&#9670;&#160;</a></span>QCBOREncode_OpenMapIndefiniteLengthInMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenMapIndefiniteLengthInMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a2faaed04870040214467d9dbf5ba9f59" title="Indicates that the next items added are in an indefinite length map.">QCBOREncode_OpenMapIndefiniteLength()</a>. </p>

</div>
</div>
<a id="aa9c4058e86dd6f840d64c72448550ac2" name="aa9c4058e86dd6f840d64c72448550ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c4058e86dd6f840d64c72448550ac2">&#9670;&#160;</a></span>QCBOREncode_OpenMapIndefiniteLengthInMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenMapIndefiniteLengthInMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#a2faaed04870040214467d9dbf5ba9f59" title="Indicates that the next items added are in an indefinite length map.">QCBOREncode_OpenMapIndefiniteLength()</a>. </p>

</div>
</div>
<a id="a101cf9e5a096bc8217f093f7835ea491" name="a101cf9e5a096bc8217f093f7835ea491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a101cf9e5a096bc8217f093f7835ea491">&#9670;&#160;</a></span>QCBOREncode_OpenMapInMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenMapInMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000010">Deprecated</a></b></dt><dd>Use <a class="el" href="#a5d1ed418b8f86c76a3547ef7e9907c57">QCBOREncode_OpenMapInMapSZ()</a> instead. </dd></dl>

</div>
</div>
<a id="a0ed27f9fe4904d1cc72707101345bec7" name="a0ed27f9fe4904d1cc72707101345bec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ed27f9fe4904d1cc72707101345bec7">&#9670;&#160;</a></span>QCBOREncode_OpenMapInMapN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenMapInMapN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>nLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#aea839bfa7b1375ed4f903de7bf3212f8" title="Indicates that the next items added are in a map.">QCBOREncode_OpenMap()</a>. </p>

</div>
</div>
<a id="a5d1ed418b8f86c76a3547ef7e9907c57" name="a5d1ed418b8f86c76a3547ef7e9907c57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d1ed418b8f86c76a3547ef7e9907c57">&#9670;&#160;</a></span>QCBOREncode_OpenMapInMapSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QCBOREncode_OpenMapInMapSZ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>szLabel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="#aea839bfa7b1375ed4f903de7bf3212f8" title="Indicates that the next items added are in a map.">QCBOREncode_OpenMap()</a>. </p>

</div>
</div>
<a id="abd599f9ce16b9ded9d9f016b3596e901" name="abd599f9ce16b9ded9d9f016b3596e901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd599f9ce16b9ded9d9f016b3596e901">&#9670;&#160;</a></span>QCBOREncode_RetrieveOutputStorage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_useful_buf_8h.html#a28f72e9ae0a9419e46735e16f8c2f449">UsefulBuf</a> QCBOREncode_RetrieveOutputStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the storage buffer passed in to <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The output storage buffer passed to <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a>.</dd></dl>
<p>This doesn't give any information about how much has been encoded or the error state. It just returns the exact <a class="el" href="_useful_buf_8h.html#a83f01ed9a781335a27e651b4d0fe99cd">UsefulOutBuf</a> given to <a class="el" href="#ab7f85546a84e1301d1a6af6890cb191e">QCBOREncode_Init()</a>. </p>

</div>
</div>
<a id="a7eb00a4922cbf362c8a327a7a85b13ae" name="a7eb00a4922cbf362c8a327a7a85b13ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb00a4922cbf362c8a327a7a85b13ae">&#9670;&#160;</a></span>QCBOREncode_SubString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_useful_buf_8h.html#ad5ebb3732bd85ff732cc817fc280cc64">UsefulBufC</a> QCBOREncode_SubString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>uStart</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a substring of encoded CBOR for cryptographic hash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uStart</td><td>The start offset of substring.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer and length of of substring.</dd></dl>
<p><code>uStart</code> is obtained by calling <a class="el" href="#a7ec57d2a28feff9351dc84521a3b9d67" title="Returns current end of encoded data.">QCBOREncode_Tell()</a> before encoding the first item in the substring. Then encode some data items. Then call this. The substring returned contains the encoded data items.</p>
<p>The substring may have deeply nested arrays and maps as long as any opened after the call to <a class="el" href="#a7ec57d2a28feff9351dc84521a3b9d67" title="Returns current end of encoded data.">QCBOREncode_Tell()</a> are closed before this is called.</p>
<p>This will return <code>NULLUsefulBufC</code> if the encoder is in the error state or if <code>uStart</code> is beyond the end of the thus-far encoded data items.</p>
<p>If <code>uStart</code> is 0, all the thus-far-encoded CBOR will be returned. Unlike <a class="el" href="#ac0498cefe2cb8d1454340cc8f68cb75f" title="Get the encoded result.">QCBOREncode_Finish()</a>, this will succeed even if some arrays and maps are not closed.</p>
<p>See important usage WARNING in <a class="el" href="#a7ec57d2a28feff9351dc84521a3b9d67" title="Returns current end of encoded data.">QCBOREncode_Tell()</a> </p>

</div>
</div>
<a id="a7ec57d2a28feff9351dc84521a3b9d67" name="a7ec57d2a28feff9351dc84521a3b9d67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec57d2a28feff9351dc84521a3b9d67">&#9670;&#160;</a></span>QCBOREncode_Tell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t QCBOREncode_Tell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a11844421eac8fb31c92a3a20a458aef5">QCBOREncodeContext</a> *</td>          <td class="paramname"><span class="paramname"><em>pCtx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns current end of encoded data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCtx</td><td>The encoding context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Byte offset of end of encoded data.</dd></dl>
<p>The purpose of this is to enable cryptographic hashing over a subpart of thus far CBOR-encoded data. Then perhaps a signature over the hashed CBOR is added to the encoded output. There is nothing specific to hashing or signing in this, so this can be used for other too.</p>
<p>Call this to get the offset of the start of the encoded to-be-hashed CBOR items, then call <a class="el" href="#a7eb00a4922cbf362c8a327a7a85b13ae" title="Get a substring of encoded CBOR for cryptographic hash.">QCBOREncode_SubString()</a>. <a class="el" href="#a7ec57d2a28feff9351dc84521a3b9d67" title="Returns current end of encoded data.">QCBOREncode_Tell()</a> can also be called twice, first to get the offset of the start and second for the offset of the end. Those offsets can be applied to the output storage buffer.</p>
<p>This will return successfully even if the encoder is in the error state.</p>
<p>WARNING: All definite-length arrays and maps opened before the first call to <a class="el" href="#a7ec57d2a28feff9351dc84521a3b9d67" title="Returns current end of encoded data.">QCBOREncode_Tell()</a> must not be closed until the substring is obtained and processed. Similarly, every definite-length array or map opened after the first call to <a class="el" href="#a7ec57d2a28feff9351dc84521a3b9d67" title="Returns current end of encoded data.">QCBOREncode_Tell()</a> must be closed before the substring is obtained and processed. The same applies for opened byte strings. There is no detection of these errors. This occurs because QCBOR goes back and inserts the lengths of definite-length arrays and maps when they are closed. This insertion will make the offsets incorrect. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
